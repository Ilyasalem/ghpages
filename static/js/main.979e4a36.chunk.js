(this["webpackJsonptheta-wallet-web"]=this["webpackJsonptheta-wallet-web"]||[]).push([[0],{102:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(1),r=a.n(n),s=a(12),i=a(47);function c(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=n.onSuccess,o=n.onError;return function(){var n=Object(s.a)(r.a.mark((function n(s,u){var l,d;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s({type:"".concat(e,"/START"),metadata:a}),n.prev=1,n.next=4,t();case 4:if(!(l=n.sent)){n.next=10;break}return n.next=8,l.json();case 8:d=n.sent,l={status:l.status,body:d};case 10:Object(i.b)(l)?(s({type:"".concat(e,"/SUCCESS"),response:l,metadata:a}),c&&c(s,l)):(s({type:"".concat(e,"/FAILURE"),response:null,metadata:a}),o&&o(s,l)),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(1),s({type:"".concat(e,"/FAILURE"),response:null,metadata:a}),o&&o(s,null);case 17:return n.prev=17,s({type:"".concat(e,"/END"),metadata:a}),n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[1,13,17,20]])})));return function(e,t){return n.apply(this,arguments)}}()}},103:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(1),r=a.n(n),s=a(12),i=a(3),c=a(4),o=a(100),u=a.n(o),l=a(60),d=new u.a("https://mainnet.infura.io/v3/40980e2189924c8abfc5f60dd2e5dc4b"),p=new d.eth.Contract([{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function",signature:"0x06fdde03"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x095ea7b3"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x18160ddd"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_amount",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x23b872dd"},{constant:!0,inputs:[],name:"getController",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function",signature:"0x3018205f"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function",signature:"0x313ce567"},{constant:!1,inputs:[{name:"_newController",type:"address"}],name:"changeController",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x3cebb823"},{constant:!1,inputs:[{name:"_owner",type:"address"},{name:"_amount",type:"uint256"}],name:"mint",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x40c10f19"},{constant:!1,inputs:[{name:"_unlockTime",type:"uint256"}],name:"changeUnlockTime",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x48f1cfdb"},{constant:!0,inputs:[],name:"getUnlockTime",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x602bc62b"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x70a08231"},{constant:!1,inputs:[{name:"_addr",type:"address"}],name:"allowPrecirculation",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x8ef16d02"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function",signature:"0x95d89b41"},{constant:!0,inputs:[{name:"_addr",type:"address"}],name:"isPrecirculationAllowed",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function",signature:"0x99d84045"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_amount",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0xa9059cbb"},{constant:!1,inputs:[{name:"_addr",type:"address"}],name:"disallowPrecirculation",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0xcc481912"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0xdd62ed3e"},{constant:!0,inputs:[],name:"controller",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function",signature:"0xf77c4791"},{inputs:[{name:"_unlockTime",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event",signature:"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_spender",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Approval",type:"event",signature:"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925"}],"0x3883f5e181fccaF8410FA61e12b59BAd963fb645"),m=function(){function e(){Object(i.a)(this,e)}return Object(c.a)(e,null,[{key:"getWeb3",value:function(){return d}},{key:"getTransactionFee",value:function(e,t){try{var a=d.utils.toWei(e.toString(),"Gwei"),n=t.toString();return d.utils.fromWei((parseInt(a)*parseInt(n)).toString())}catch(r){return null}}},{key:"unsignedTransaction",value:function(e){var t=e.tokenType,a=e.from,n=e.to,r=e.amount,s=e.gas,i=e.gasPrice,c=d.utils.toWei(r),o=d.utils.toWei(i.toString(),"Gwei");return t===l.a.ERC20_THETA?{from:a,to:"0x3883f5e181fccaF8410FA61e12b59BAd963fb645",data:p.methods.transfer(n,c).encodeABI(),gas:s,gasPrice:o}:t===l.a.ETHEREUM?{from:a,to:n,value:c,gas:s,gasPrice:o}:void 0}},{key:"estimateGas",value:function(){var t=Object(s.a)(r.a.mark((function t(a){var n,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.unsignedTransaction(a),t.next=4,d.eth.estimateGas(n);case 4:return s=t.sent,t.abrupt("return",s);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},{key:"getGasPrice",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.eth.getGasPrice();case 3:if(!(t=e.sent)){e.next=8;break}return e.abrupt("return",parseInt(d.utils.fromWei(t,"Gwei"))+1);case 8:return e.abrupt("return",null);case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"isAddress",value:function(e){try{return d.utils.isAddress(e)}catch(t){return!1}}},{key:"signTransaction",value:function(){var t=Object(s.a)(r.a.mark((function t(a,n){var s,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.unsignedTransaction(a),t.next=3,d.eth.accounts.signTransaction(s,n);case 3:if(!(i=t.sent)){t.next=8;break}return t.abrupt("return",i.rawTransaction);case 8:throw new Error("Failed to sign transaction.");case 9:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}]),e}()},127:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(3),r=a(4),s=function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,null,[{key:"getWalletData",value:function(){return this._walletData}},{key:"setWalletData",value:function(e){this._walletData=e}}]),e}();s._walletData=null},15:function(e,t,a){"use strict";a.d(t,"s",(function(){return b})),a.d(t,"b",(function(){return y})),a.d(t,"a",(function(){return g})),a.d(t,"k",(function(){return k})),a.d(t,"r",(function(){return E})),a.d(t,"j",(function(){return w})),a.d(t,"g",(function(){return O})),a.d(t,"e",(function(){return T})),a.d(t,"d",(function(){return S})),a.d(t,"n",(function(){return _})),a.d(t,"m",(function(){return N})),a.d(t,"i",(function(){return A})),a.d(t,"f",(function(){return x})),a.d(t,"c",(function(){return I})),a.d(t,"p",(function(){return P})),a.d(t,"o",(function(){return R})),a.d(t,"h",(function(){return F})),a.d(t,"q",(function(){return D})),a.d(t,"l",(function(){return W}));var n=a(1),r=a.n(n),s=a(12),i=a(16),c=a(28),o=a(7),u=a.n(o),l=(a(44),a(14)),d=a.n(l),p=a(159),m=a(34),h=a(10),f=a(62),v=a(27);function b(e,t){return Object.assign.apply(Object,[{}].concat(Object(c.a)(e.map((function(e,a){return Object(i.a)({},e,t[a])})))))}function y(e,t){var a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}function g(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);var a=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);t.select(),document.execCommand("copy"),document.body.removeChild(t),a&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(a))}function k(){var e=!0;try{e=window.navigator.onLine}catch(t){e=!0}return e}var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return e.slice(0,t+2)+"..."+e.slice(-1*t)};function w(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}function O(e){var t=e||document.location.search;return u.a.isNil(t)||0===t.length?{}:t.replace(/(^\?)/,"").split("&").map(function(e){return this[(e=e.split("="))[0]]=e[1],this}.bind({}))[0]}var T=function(e,t){var a=new d.a(e),n=new d.a(10).pow(t);return w(a.dividedBy(n).toString(10))},S=function(e){return w(new d.a(e).dividedBy(p.a).toString(10))},C=function(e,t){var a=new d.a(e),n=new d.a(10).pow(t);return a.multipliedBy(n)},j=function(e){return new d.a(e).multipliedBy(p.a)},_=function(e,t){var a=new d.a(e),n=new d.a(10).pow(t);return a.dividedBy(n)},N=function(e){return new d.a(e).dividedBy(p.a)},A=function(e,t,a){var n=null,r=null;return!!u.a.isNil(t)||("Theta"===t.name?(n=j(""+a),r=new d.a(e.balances.thetawei)):"Theta Fuel"===t.name?(n=j(""+a),r=new d.a(e.balances.tfuelwei)):(n=C(""+a,t.decimals),r=new d.a(e.balances[t.contractAddress])),n.lte(r))},x=function(e,t){if("Theta"===t.name)return S(e.balances.thetawei);if("Theta Fuel"===t.name)return S(e.balances.tfuelwei);var a=e.balances[t.contractAddress]||"0";return T(a,t.decimals)},I=function(){var e=Object(s.a)(r.a.mark((function e(t,a,n){var s,i,c,o,l,p,b,y,g,k,E,w,O,T,S,j,_,N,A,x,I,P,R,F,D,W,M,L,B,U,H,K,q,V,G,z,Y,J,X,Z,Q,$;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n.accounts,i=n.selectedAddress,c=s[i],o=n.tokens,l=n.network.chainId,p=Object(m.d)(l,o),"send"!==t){e.next=19;break}if(b=a.to,y=a.assetId,g=a.amount,!(k=u.a.find(p,(function(e){return e.id===y}))).contractAddress){e.next=17;break}return E=new h.Contract(k.contractAddress,f.c,null),w=C(g,k.decimals),e.next=14,E.populateTransaction.transfer(b,w.toString());case 14:return e.abrupt("return",e.sent);case 17:return O={from:i,outputs:[{address:b,thetaWei:"theta"===y?h.utils.toWei(g):"0",tfuelWei:"tfuel"===y?h.utils.toWei(g):"0"}]},e.abrupt("return",new h.transactions.SendTransaction(O));case 19:if("withdraw-stake"!==t){e.next=38;break}if(T=a.holder,S=a.purpose,j=a.amount,parseInt(S)!==v.b){e.next=36;break}return _=v.d[l],N=new h.Contract(_,f.b,null),A=parseFloat(j)/100,x=u.a.get(c,["tnt20Stakes"],{}),I=u.a.get(x,"tdrop.balance","0"),P=new d.a(I),R=P.multipliedBy(A).integerValue(),e.next=32,N.populateTransaction.unstake(R.toString());case 32:return F=e.sent,e.abrupt("return",F);case 36:return D={holder:T,purpose:S},e.abrupt("return",new h.transactions.WithdrawStakeTransaction(D));case 38:if("deposit-stake"!==t){e.next=73;break}if(W=a.holder,M=a.holderSummary,L=a.purpose,B=a.amount,(U=parseInt(L))!==h.constants.StakePurpose.StakeForValidator){e.next=46;break}return H={holder:W,purpose:U,amount:h.utils.toWei(B)},e.abrupt("return",new h.transactions.DepositStakeTransaction(H));case 46:if(U!==h.constants.StakePurpose.StakeForGuardian){e.next=51;break}return K={holderSummary:M,purpose:U,amount:h.utils.toWei(B)},e.abrupt("return",new h.transactions.DepositStakeV2Transaction(K));case 51:if(U!==h.constants.StakePurpose.StakeForEliteEdge){e.next=56;break}return q={holderSummary:M,purpose:U,amount:h.utils.toWei(B)},e.abrupt("return",new h.transactions.DepositStakeV2Transaction(q));case 56:if(U!==v.b){e.next=73;break}return V=v.c[l],G=v.d[l],z=new h.Contract(V,f.c,null),Y=new h.Contract(G,f.b,null),J=u.a.keyBy(p,"id"),X=J[V],Z=C(B,X.decimals),e.next=66,z.populateTransaction.approve(G,Z.toString());case 66:return Q=e.sent,e.next=69,Y.populateTransaction.stake(Z.toString());case 69:return($=e.sent).gasLimit=15e4,$.dependencies=[Q],e.abrupt("return",$);case 73:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),P=function(e){if(u.a.isNil(e))return null;switch(e){case h.constants.TxType.Send:return"Send";case h.constants.TxType.SmartContract:return"Call Contract";case h.constants.TxType.DepositStake:case h.constants.TxType.DepositStakeV2:return"Deposit Stake";case h.constants.TxType.WithdrawStake:return"Withdraw Stake";default:return"Unknown type"}},R=function(e){var t=u.a.get(e,"txType"),a=u.a.get(e,"txData");try{if(t===h.constants.TxType.SmartContract&&u.a.isNil(u.a.get(a,"to")))return"Deploy Contract";var n=u.a.get(a,"data");new h.Contract(null,f.c,null).interface.decodeFunctionData("transfer(address,uint256)",n);return"Transfer Token"}catch(r){}return P(t)},F=function(e){if(e){var t=458;return e.startsWith("0x")&&(t+=2),e.length===t}return!1};function D(e,t){var a=e.split("."),n="",r=!1;return u.a.map(a[1],(function(e,a){r||a+1>t||("0"!==e&&(r=!0),n+=e)})),a[1]=n,a.join(".")}var W=function(e){return new Promise((function(t){return setTimeout(t,e)}))}},150:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(1),r=a.n(n),s=a(12),i=a(3),c=a(4),o=a(31),u=a(101),l=a.n(u),d=a(100),p=a.n(d),m=a(17),h=a(26),f=new p.a("https://mainnet.infura.io/v3/40980e2189924c8abfc5f60dd2e5dc4b"),v=function(){function e(){Object(i.a)(this,e)}return Object(c.a)(e,null,[{key:"signTransaction",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n,s,i,c,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.a.prepareTxPayload(t),n={path:m.e.getWalletPath(),transaction:{chainId:1,nonce:f.utils.toHex("0"),gasPrice:f.utils.toHex("0"),gasLimit:f.utils.toHex("0"),to:"0000000000000000000000000000000000000000",value:f.utils.toHex("0"),data:a}},e.next=4,l.a.ethereumSignTransaction(n);case 4:if(!(s=e.sent).payload.error){e.next=7;break}throw s.payload.error;case 7:if(i=s.payload.r+s.payload.s.slice(2)+(parseInt(s.payload.v,16)-37).toString().padStart(2,"0"),t.setSignature(i),c=o.a.TxSigner.serializeTx(t),!(u=c.toString("hex"))){e.next=15;break}return e.abrupt("return",u);case 15:throw new Error("Failed to sign transaction.");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()},151:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(1),r=a.n(n),s=a(12),i=a(3),c=a(4),o=a(31),u=a(81),l=a(82),d=a.n(l),p=a(83),m=a.n(p),h=a(17),f=a(26),v=function(){function e(){Object(i.a)(this,e)}return Object(c.a)(e,null,[{key:"signTransaction",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a,n){var s,i,c,u,l,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=f.a.getChainID(),i=n.signBytes(s).slice(2),e.next=4,t.signTransaction(a,i);case 4:if(c=e.sent,u="0x"+c.r+c.s+(parseInt(c.v,16)-27).toString().padStart(2,"0"),n.setSignature(u),l=o.a.TxSigner.serializeTx(n),!(d=(d=l.toString("hex")).substring(2))){e.next=14;break}return e.abrupt("return",d);case 14:throw new Error("Failed to sign transaction.");case 15:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"signTransactionLegacy",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n,s,i,c,l,p,v;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=f.a.getChainID(),n=t.signBytes(a).slice(2),h.e.getWalletPath(),!(navigator.userAgent.toLowerCase().indexOf("firefox")>-1)){e.next=9;break}return e.next=6,d.a.create();case 6:s=e.sent,e.next=12;break;case 9:return e.next=11,u.a.create();case 11:s=e.sent;case 12:return i=new m.a(s),e.next=15,i.signTransaction(h.e.getWalletPath(),n);case 15:if(c=e.sent,l="0x"+c.r+c.s+(parseInt(c.v,16)-27).toString().padStart(2,"0"),t.setSignature(l),p=o.a.TxSigner.serializeTx(t),!(v=(v=p.toString("hex")).substring(2))){e.next=25;break}return e.abrupt("return",v);case 25:throw new Error("Failed to sign transaction.");case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()},17:function(e,t,a){"use strict";var n=a(1),r=a.n(n),s=a(12),i=a(3),c=a(4),o=a(10),u=a(70),l=a(7),d=a.n(l),p=a(103),m=a(26),h=a(47),f=a(101),v=a.n(f),b=a(150),y=a(151),g=a(83),k=a.n(g),E=a(81),w=a(82),O=a.n(w),T=a(28),S=a(152),C=a(33),j=a(8),_=a(6),N=a(11),A=a(9),x=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(this,t),(e=Object(j.a)(this,Object(_.a)(t).call(this)))._state=a,e}return Object(A.a)(t,e),Object(c.a)(t,[{key:"getState",value:function(){return this._getState()}},{key:"putState",value:function(e){this._putState(e),this.emit("update",e)}},{key:"updateState",value:function(e){if(e&&"object"===typeof e){var t=this.getState(),a=Object.assign({},t,e);this.putState(a)}else this.putState(e)}},{key:"subscribe",value:function(e){this.on("update",e)}},{key:"unsubscribe",value:function(e){this.removeListener("update",e)}},{key:"_getState",value:function(){return this._state}},{key:"_putState",value:function(e){this._state=e}}]),t}(a(43).EventEmitter),I=a(43).EventEmitter,P="SimpleKeyring",R=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(j.a)(this,Object(_.a)(t).call(this))).type=P,a.wallets=[],a.deserialize(e),a}return Object(A.a)(t,e),Object(c.a)(t,[{key:"serialize",value:function(){return Promise.resolve(this.wallets.map((function(e){return e.privateKey})))}},{key:"deserialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(a,n){try{e.wallets=t.map((function(e){return new o.Wallet(e)}))}catch(r){n(r)}a()}))}},{key:"addAccounts",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=[],a=0;a<e;a++){var n=o.Wallet.createRandom(null);t.push(n)}this.wallets=this.wallets.concat(t);var r=t.map((function(e){return e.getAddress()}));return Promise.resolve(r)}},{key:"getAccounts",value:function(){return Promise.resolve(this.wallets.map((function(e){return e.getAddress()})))}},{key:"signTransaction",value:function(e,t,a){var n=this._getWalletForAccount(e),r=(n=n.connect(a)).signTransaction(t);return Promise.resolve(r)}},{key:"signAndSendTransaction",value:function(e,t,a){var n=this._getWalletForAccount(e);n=n.connect(a),t.setFrom(e);var r=n.sendTransaction(t);return Promise.resolve(r)}},{key:"exportAccount",value:function(e){var t=this._getWalletForAccount(e);return Promise.resolve(t.privateKey())}},{key:"removeAccount",value:function(e){var t=e.toLowerCase();if(!this.wallets.map((function(e){return e.getAddress().toLowerCase()})).includes(t))throw new Error("Address ".concat(e," not found in this keyring"));this.wallets=this.wallets.filter((function(e){return e.getAddress().toLowerCase()!==t}))}},{key:"getPrivateKeyFor",value:function(e){if(!e)throw new Error("Must specify address.");return this._getWalletForAccount(e).privateKey()}},{key:"_getWalletForAccount",value:function(e){var t=this.wallets.find((function(t){return t.getAddress()===e}));if(!t)throw new Error("Simple Keyring - Unable to find matching address.");return t}}]),t}(I);R.type=P;var F=R,D=a(43).EventEmitter,W=[F],M=function(e){function t(e){var a;Object(i.a)(this,t),a=Object(j.a)(this,Object(_.a)(t).call(this));var n=e.initState||{};return a.store=new x(n),a.keyringTypes=e.keyringTypes?W.concat(e.keyringTypes):W,a.memStore=new x({isUnlocked:!1,keyringTypes:a.keyringTypes.map((function(e){return e.type})),keyrings:[]}),a.keyrings=[],a}return Object(A.a)(t,e),Object(c.a)(t,[{key:"fullUpdate",value:function(){return this.emit("update",this.memStore.getState()),this.memStore.getState()}},{key:"_updateMemStoreKeyrings",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.keyrings.map(this._dataForKeyring));case 2:return t=e.sent,e.abrupt("return",this.memStore.updateState({keyrings:t}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addNewKeyring",value:function(e,t){var a=this,n=new(this._getKeyringClassForType(e))(t);return n.getAccounts().then((function(){a.keyrings.push(n)})).then((function(){return a._updateMemStoreKeyrings()})).then((function(){return a.fullUpdate()})).then((function(){return n}))}},{key:"getAccounts",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.keyrings||[],e.next=3,Promise.all(t.map((function(e){return e.getAccounts()}))).then((function(e){return e.reduce((function(e,t){return e.concat(t)}),[])}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addNewAccount",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.addAccounts(1);case 2:return e.sent.forEach((function(e){a.emit("newAccount",e)})),e.next=6,this._updateMemStoreKeyrings();case 6:return e.next=8,this.fullUpdate();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getKeyringsByType",value:function(e){return this.keyrings.filter((function(t){return t.type===e}))}},{key:"getPrimaryKeyring",value:function(){return this.keyrings[0]}},{key:"signTransaction",value:function(e,t){return this._getKeyringForAccount(e).then((function(a){return a.signTransaction(e,t)}))}},{key:"signAndSendTransaction",value:function(e,t,a){return this._getKeyringForAccount(e).then((function(n){return n.signAndSendTransaction(e,t,a)}))}},{key:"_getKeyringClassForType",value:function(e){return this.keyringTypes.find((function(t){return t.type===e}))}},{key:"_getKeyringForAccount",value:function(e){return Promise.all(this.keyrings.map((function(e){return Promise.all([e,e.getAccounts()])}))).then((function(t){var a=t.filter((function(t){return t[1].includes(e)}));if(a&&a.length>0)return a[0][0];throw new Error("No keyring found for the requested account.")}))}},{key:"_dataForKeyring",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAccounts();case 2:return a=e.sent,e.abrupt("return",{type:t.type,accounts:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"_clearKeyrings",value:function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.keyrings=[],this.memStore.updateState({keyrings:[]});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(D),L=a(16),B=function(e){function t(e,a){var n;return Object(i.a)(this,t),(n=Object(j.a)(this,Object(_.a)(t).call(this,e))).updateStructure(a),n}return Object(A.a)(t,e),Object(c.a)(t,[{key:"updateStructure",value:function(e){var t=this;this.config=e,this.removeAllListeners();var a=function(a){Object.prototype.hasOwnProperty.call(e,a)&&e[a].subscribe((function(e){t.updateState(Object(L.a)({},a,e))}))};for(var n in e)a(n)}},{key:"getFlatState",value:function(){var e={};for(var t in this.config)if(Object.prototype.hasOwnProperty.call(this.config,t)){var a=this.config[t],n=a.getState?a.getState():a.state;e=Object(C.a)({},e,{},n)}return e}}]),t}(x),U=a(61),H=function(e){function t(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(i.a)(this,t),e=Object(j.a)(this,Object(_.a)(t).call(this));var n=Object(C.a)({accountTokens:{},assetImages:{},tokens:[],identities:{},lostIdentities:{},preferences:{autoLockTimeLimit:void 0},completedOnboarding:!1,selectedAddress:null,network:{chainId:o.networks.ChainIds.Mainnet},delegatedGuardianNodes:[]},a.initState);return e.store=new x(n),e.updateDelegatedGuardianNodes(),e}return Object(A.a)(t,e),Object(c.a)(t,[{key:"getAssetImages",value:function(){return this.store.getState().assetImages}},{key:"syncAddresses",value:function(e){if(!Array.isArray(e)||0===e.length)throw new Error("Expected non-empty array of addresses.");var t=this.store.getState(),a=t.identities,n=t.lostIdentities,r={};Object.keys(a).forEach((function(t){e.includes(t)||(r[t]=a[t],delete a[t])})),Object.keys(r).length>0&&Object.keys(r).forEach((function(e){n[e]=r[e]})),this.store.updateState({identities:a,lostIdentities:n}),this.addAddresses(e);var s=this.getSelectedAddress();return e.includes(s)||(s=e[0],this.setSelectedAddress(s)),s}},{key:"setAddresses",value:function(e){var t=this.store.getState().identities,a=this.store.getState().accountTokens,n=e.reduce((function(e,a,n){var r=t[a]||{};return e[a]=Object(C.a)({name:"Account ".concat(n+1),address:a},r),e}),{}),r=e.reduce((function(e,t){var n=a[t]||{};return e[t]=n,e}),{});this.store.updateState({identities:n,accountTokens:r})}},{key:"removeAddress",value:function(e){var t=this.store.getState().identities,a=this.store.getState().accountTokens;if(!t[e])throw new Error("".concat(e," can't be deleted cause it was not found"));if(delete t[e],delete a[e],this.store.updateState({identities:t,accountTokens:a}),e===this.getSelectedAddress()){var n=Object.keys(t)[0];this.setSelectedAddress(n)}return e}},{key:"addAddresses",value:function(e){var t=this.store.getState(),a=t.identities,n=t.accountTokens;e.forEach((function(e){if(!a[e]){var t=Object.keys(a).length;d.a.isNil(n[e])&&(n[e]={}),a[e]={name:"Account ".concat(t+1),address:e}}})),this.store.updateState({identities:a,accountTokens:n})}},{key:"setSelectedAddress",value:function(e){var t=e;this._updateTokens(t);var a=this.store.getState(),n=a.identities,r=a.tokens,s=n[t];if(!s)throw new Error("Identity for '".concat(t," not found"));return s.lastSelected=Date.now(),this.store.updateState({identities:n,selectedAddress:t}),Promise.resolve(r)}},{key:"getSelectedAddress",value:function(){return this.store.getState().selectedAddress}},{key:"_getTokenRelatedStates",value:function(e){var t=this.store.getState(),a=t.network,n=t.accountTokens,r=a.chainId;return e||(e=this.store.getState().selectedAddress),e in n||(n[e]={}),r in n[e]||(n[e][r]=[]),{tokens:n[e][r],accountTokens:n,network:a,selectedAddress:e}}},{key:"_updateTokens",value:function(e){var t=this._getTokenRelatedStates(e).tokens;this.store.updateState({tokens:t})}},{key:"_updateAccountTokens",value:function(e,t){var a=this._getTokenRelatedStates(),n=a.accountTokens,r=a.network;n[a.selectedAddress][r.chainId]=e,this.store.updateState({accountTokens:n,tokens:e,assetImages:t}),this.emit("accountTokensUpdated")}},{key:"addToken",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a,n,s){var i,c,o,u,l,d,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={address:i=t,symbol:a,decimals:n},o=this.store.getState(),u=o.tokens,l=this.getAssetImages(),d=u.find((function(e){return e.address===i})),p=u.indexOf(d),d?u[p]=c:u.push(c),l[i]=s,this._updateAccountTokens(u,l),e.abrupt("return",Promise.resolve(u));case 10:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"removeToken",value:function(e){var t=this.store.getState().tokens,a=this.getAssetImages(),n=t.filter((function(t){return t.address!==e}));return delete a[e],this._updateAccountTokens(n,a),Promise.resolve(n)}},{key:"getTokens",value:function(){return this.store.getState().tokens}},{key:"setAccountName",value:function(e,t){if(!e)throw new Error("setAccountLabel requires a valid address, got ".concat(String(e)));var a=e,n=this.store.getState().identities;return n[a]=n[a]||{},n[a].name=t,this.store.updateState({identities:n}),Promise.resolve(t)}},{key:"setPreference",value:function(e,t){var a=this.getPreferences(),n=Object(C.a)({},a,Object(L.a)({},e,t));return this.store.updateState({preferences:n}),Promise.resolve(n)}},{key:"getPreferences",value:function(){return this.store.getState().preferences}},{key:"completeOnboarding",value:function(){return this.store.updateState({completedOnboarding:!0}),Promise.resolve(!0)}},{key:"setNetwork",value:function(e){if(void 0===e.chainId||null===e.chainId)throw new Error("PreferencesController :: setNetwork - network is invalid");return this.store.updateState({network:e}),this._updateTokens(this.getSelectedAddress()),this.emit("networkChanged",e),Promise.resolve(!0)}},{key:"getNetwork",value:function(){return this.store.getState().network}},{key:"updateDelegatedGuardianNodes",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,"https://api.thetatoken.org/v1/guardian/delegated-nodes",e.next=5,fetch("https://api.thetatoken.org/v1/guardian/delegated-nodes");case 5:return a=e.sent,e.next=8,a.json();case 8:n=e.sent,t=n,t=d.a.map(t,(function(e){var t=e.address.split(" fee - "),a=Object(U.a)(t,2),n=a[0],r=a[1];return Object(C.a)({},e,{fee:n,address:r})})),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",[]);case 16:return this.store.updateState({delegatedGuardianNodes:t}),e.abrupt("return",t);case 18:case"end":return e.stop()}}),e,this,[[1,13]])})));return function(){return e.apply(this,arguments)}}()}]),t}(a(43).EventEmitter),K=a(14),q=a.n(K),V=a(27),G=a(62),z=a(250).tokensByChainId,Y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(i.a)(this,e);var a={accounts:{}};this.store=new x(a),this._getProvider=t.getProvider,this._getNetwork=t.getNetwork,this._getTokens=t.getTokens,this._preferencesController=t.preferencesController,this._updateIntervalId=null}return Object(c.a)(e,[{key:"start",value:function(){var e=this;this.updateAccounts(),this._updateIntervalId||(this._updateIntervalId=setInterval((function(){e.updateAccounts()}),6e4)),this.detectNewTokens()}},{key:"stop",value:function(){this._updateIntervalId&&clearInterval(this._updateIntervalId)}},{key:"syncAddresses",value:function(e){var t=this.store.getState().accounts,a=Object.keys(t),n=[];e.forEach((function(e){a.includes(e)||n.push(e)}));var r=[];a.forEach((function(t){e.includes(t)||r.push(t)})),this.addAccounts(n),this.removeAccounts(r)}},{key:"addAccounts",value:function(e){var t=this.store.getState().accounts;e.forEach((function(e){t[e]={}})),this.store.updateState({accounts:t}),e.length&&this.updateAccounts()}},{key:"removeAccounts",value:function(e){var t=this.store.getState().accounts;e.forEach((function(e){delete t[e]})),this.store.updateState({accounts:t})}},{key:"clearAccounts",value:function(){this.store.updateState({accounts:{}})}},{key:"updateAccounts",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,a,n,s=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.store.getState(),a=t.accounts,0!==(n=Object.keys(a)).length){e.next=4;break}return e.abrupt("return",!0);case 4:return n.map((function(e){s._updateAccount(e)})),e.next=7,this._updateAccountTokensViaBalanceChecker(n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_updateAccount",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n,s,i,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,e.prev=1,n=this._getProvider(),e.next=5,n.getAccount(t);case 5:a=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a={coins:{thetawei:0,tfuelwei:0}};case 11:s={address:t,balances:a.coins},i=this.store.getState(),c=i.accounts,o=c[t.toLowerCase()]||c[t]||{},c[t]=Object(C.a)({},o,{},s,{balances:Object(C.a)({},o.balances,{},s.balances)}),this.store.updateState({accounts:c});case 16:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateAccountTokensViaBalanceChecker",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n,s,i,c,u,l,p,m,h,f=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.store.getState(),n=a.accounts,s=this._getProvider(),i=this._getNetwork().chainId,c=this._getTokens(),u=d.a.map(c,"address"),u=d.a.map(u,d.a.trim),l=V.a[i],!d.a.isNil(l)){e.next=9;break}return e.abrupt("return");case 9:if(0!==u.length){e.next=11;break}return e.abrupt("return");case 11:if(0!==t.length){e.next=13;break}return e.abrupt("return");case 13:return e.prev=13,p=new o.Contract(l,G.a,s),e.next=17,p.balances(t,u);case 17:m=e.sent,h=d.a.chunk(m,u.length),t.forEach((function(e,t){var a=h[t],r=d.a.reduce(a,(function(e,t,a){var n=u[a];return Object.assign(e,Object(L.a)({},n,t.toString()))}),{}),s=f.store.getState().accounts[e].balances,i=n[e.toLowerCase()]||n[e];n[e]=Object(C.a)({},i,{address:e,balances:Object(C.a)({},s,{},r)})})),this.store.updateState({accounts:n}),e.next=25;break;case 23:e.prev=23,e.t0=e.catch(13);case 25:case"end":return e.stop()}}),e,this,[[13,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateAccountTDropStake",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n,s,i,c,u,l,p,m,h,f,v,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=new q.a(0),n=new q.a(0),s=new q.a(0),e.prev=3,i=this._getProvider(),c=this._getNetwork(),u=c.chainId,l=V.d[u],!d.a.isNil(l)){e.next=10;break}return e.abrupt("return",null);case 10:return p=new o.Contract(l,G.b,i),e.next=13,p.balanceOf(t);case 13:if((a=e.sent).isZero()){e.next=21;break}return e.next=17,p.estimatedTDropOwnedBy(t);case 17:return s=e.sent,e.next=20,p.totalShares();case 20:n=e.sent;case 21:e.next=26;break;case 23:return e.prev=23,e.t0=e.catch(3),e.abrupt("return",null);case 26:if(m=this.store.getState(),h=m.accounts,f=h[t.toLowerCase()]||h[t]){e.next=30;break}return e.abrupt("return",null);case 30:return v=new q.a(a.toString()).dividedBy(new q.a(n.toString())).multipliedBy(100),b={balance:a.toString(),totalShares:n.toString(),estimatedTokenOwnedWithRewards:s.toString(),votingPower:a.isZero()?"0":v.toString()},h[t]=Object(C.a)({},f,{tnt20Stakes:{tdrop:b}}),this.store.updateState({accounts:h}),e.abrupt("return",b);case 35:case"end":return e.stop()}}),e,this,[[3,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateAccountStakes",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n,s,i,c,u,l,p,m,h,f;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,e.prev=1,n=this._getNetwork(),s=n.chainId,i=o.networks.getExplorerUrlForChainId(s),c="".concat(i,":8443/api"),u="".concat(c,"/stake/").concat(t,"?hasBalance=true&types[]=vcp&types[]=gcp&types[]=eenp"),e.next=9,fetch(u);case 9:return l=e.sent,e.next=12,l.json();case 12:p=e.sent,a=d.a.get(p,["body","sourceRecords"],[]),e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(1),e.abrupt("return",[]);case 19:if(m=this.store.getState(),h=m.accounts,f=h[t.toLowerCase()]||h[t]){e.next=23;break}return e.abrupt("return",[]);case 23:return h[t]=Object(C.a)({},f,{stakes:a}),this.store.updateState({accounts:h}),e.next=27,this.updateAccountTDropStake(t);case 27:return e.abrupt("return",a);case 28:case"end":return e.stop()}}),e,this,[[1,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"detectNewTokens",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,a,n,s,i,c,u,l,p,m,h,f,v,b,y,g,k=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(m in t=this._preferencesController.getSelectedAddress(),a=this._getProvider(),n=this._getNetwork(),s=n.chainId,i=z[s],c=this._getTokens(),u=d.a.map(c,"address"),l=new Set(d.a.map(u,d.a.trim)),p=[],i)l.has(m)||p.push(m);if(0!==p.length){e.next=12;break}return e.abrupt("return");case 12:h=[p.slice(0,1e3),p.slice(1e3,p.length-1)],f=new o.Contract(V.a[s],G.a,a),v=r.a.mark((function e(){var a,n,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=y[b],n=void 0,e.prev=2,e.next=5,f.balances([t],a);case 5:n=e.sent,e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",{v:void 0});case 11:return s=a.filter((function(e,t){var a=n[t];return a&&!a.isZero()})),e.next=14,Promise.all(s.map((function(e){return k._preferencesController.addToken(e,i[e].symbol,i[e].decimals)})));case 14:case"end":return e.stop()}}),e,null,[[2,8]])})),b=0,y=h;case 16:if(!(b<y.length)){e.next=24;break}return e.delegateYield(v(),"t0",18);case 18:if("object"!==typeof(g=e.t0)){e.next=21;break}return e.abrupt("return",g.v);case 21:b++,e.next=16;break;case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),J=a(337),X=function(e){function t(e){var a;Object(i.a)(this,t),a=Object(j.a)(this,Object(_.a)(t).call(this));var n=Object(C.a)({},e.initState);return a.store=new x(n),a.memStore=new x({transactionRequests:[],transactions:{}}),a.preferencesController=e.preferencesController,a.signAndSendTransaction=e.signAndSendTransaction,a._getProvider=e.getProvider,a._updateAccounts=e.updateAccounts,a.pendingTransactionRequests=new Map,a}return Object(A.a)(t,e),Object(c.a)(t,[{key:"_getTransactionRequests",value:function(){return this.memStore.getState().transactionRequests||[]}},{key:"_setTransactionRequests",value:function(e){this.memStore.updateState({transactionRequests:e})}},{key:"_addTransactionRequest",value:function(e,t,a){var n=this._getTransactionRequests();return n.push(e),this._setTransactionRequests(n),this.pendingTransactionRequests.set(e.id,{request:e,resolve:t,reject:a}),!0}},{key:"_removeTransactionRequest",value:function(e){var t=this._getTransactionRequests();return t=t.filter((function(t){return t.id!==e})),this._setTransactionRequests(t),delete this.pendingTransactionRequests[e],!0}},{key:"_getTransactionRequest",value:function(e){return this._getTransactionRequests().find((function(t){return t.id===e}))}},{key:"addTransactionRequest",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n,s,i,c,u,l=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.preferencesController.getSelectedAddress(),(n=o.transactions.transactionFromJson(t)).setFrom(a),e.next=5,this.getEstimatedGasData(n);case 5:if(s=e.sent,!(i=(t.dependencies||[])[0])){e.next=15;break}return(c=o.transactions.transactionFromJson(i)).setFrom(a),e.next=12,this.getEstimatedGasData(c);case 12:u=e.sent,i=Object(C.a)({},i,{txData:Object(C.a)({},i.txData,{},d.a.pick(u,["gasPrice","gasLimit"])),gasFeeData:u}),t.dependencies=[i];case 15:return e.abrupt("return",new Promise((function(e,a){l._addTransactionRequest(Object.assign({},t,{id:Object(J.a)(),txData:Object(C.a)({},t.txData,{},d.a.pick(s,["gasPrice","gasLimit"])),gasFeeData:s}),e,a)})));case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"approveTransactionRequest",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a){var n,s,i,c,u,l,d,p,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._getProvider(),s=this.pendingTransactionRequests.get(t),i=s.request,c=this.preferencesController.getSelectedAddress(),!(u=(i.dependencies||[])[0])){e.next=10;break}return l=o.transactions.transactionFromJson(u),e.next=9,this.signAndSendTransaction(c,l,n);case 9:a&&a();case 10:return d=o.transactions.transactionFromJson(i),e.next=13,this.signAndSendTransaction(c,d,n);case 13:if(!(p=e.sent)){e.next=20;break}return m=this.pendingTransactionRequests.get(t),this._removeTransactionRequest(t),this._updateAccounts(),m.resolve(p),e.abrupt("return",p);case 20:return e.abrupt("return",!0);case 21:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"rejectTransactionRequest",value:function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._removeTransactionRequest(t),this.pendingTransactionRequests.get(t),e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_transformTransaction",value:function(e,t){if(e.type===o.constants.TxType.Send){var a={};if(a.type=e.type,a.number=e.number,a.status=e.status,a.hash=e.hash.toLowerCase(),a.timestamp=e.timestamp,a.fee={theta:e.data.fee.thetawei,tfuel:e.data.fee.tfuelwei},a.inputs=d.a.map(e.data.inputs,(function(e){return d.a.pick(e,["address","coins"])})),a.outputs=d.a.map(e.data.outputs,(function(e){return d.a.pick(e,["address","coins"])})),t){var n=t.toLowerCase();a.outputs=d.a.sortBy(a.outputs,(function(e){return n===e.address.toLowerCase()?-100:0}))}return a}return null}},{key:"updateAccountTransactions",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n,s,i,c,u,l,p,m,h,f=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null,!d.a.isEmpty(t)){e.next=3;break}return e.abrupt("return",[]);case 3:return e.prev=3,n=this.preferencesController.getNetwork(),s=n.chainId,i=o.networks.getExplorerUrlForChainId(s),c="".concat(i,":8443/api"),u="".concat(c,"/accounttx/").concat(t),e.next=11,fetch(u);case 11:return l=e.sent,e.next=14,l.json();case 14:p=e.sent,a=d.a.get(p,["body"],[]),a=d.a.map(a,(function(e){return f._transformTransaction(e,t)})),a=d.a.filter(a,(function(e){return!d.a.isNil(e)})),e.next=23;break;case 20:return e.prev=20,e.t0=e.catch(3),e.abrupt("return",[]);case 23:return m=this.memStore.getState(),(h=m.transactions)[t]=a,this.memStore.updateState({transactions:h}),e.abrupt("return",a);case 27:case"end":return e.stop()}}),e,this,[[3,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getEstimatedGasData",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n,s,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.getType()!==o.constants.TxType.SmartContract){e.next=12;break}if(t.gasLimit===o.constants.gasLimitDefault){e.next=3;break}return e.abrupt("return",{gasPrice:t.gasPrice.toString(),gasLimit:t.gasLimit,totalGasFee:t.gasPrice.multipliedBy(t.gasLimit).toString()});case 3:return a=this._getProvider(),e.next=6,a.callSmartContract(t);case 6:return n=e.sent,s=new q.a(n.gas_used).multipliedBy(1.5),i=Math.ceil(s.toNumber()),e.abrupt("return",{gasPrice:o.constants.gasPriceSmartContractDefault.toString(),gasLimit:i,totalGasFee:o.constants.gasPriceSmartContractDefault.multipliedBy(i).toString()});case 12:return e.abrupt("return",{gasPrice:o.constants.gasPriceDefault.toString(),totalGasFee:o.constants.gasPriceDefault.toString()});case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(a(43).EventEmitter),Z=a(198),Q=a(199),$=(a(40),function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(j.a)(this,Object(_.a)(t).call(this))).getProvider=function(){return a.provider},a.setProvider=function(e){a.provider=e},a.sendUpdate=a._sendUpdate.bind(Object(N.a)(a)),a.opts=e;var n=e.initState||{};a.store=new B(n),a.memStore=new B,a.preferencesController=new H({initState:n.preferencesController}),a.preferencesController.on("networkChanged",(function(e){var t=a.preferencesController.getSelectedAddress(),n=new o.providers.HttpProvider(e.chainId);a.setProvider(n),t&&(a.accountManager.updateAccounts(),a.accountManager.updateAccountStakes(t),a.accountManager.detectNewTokens(),a.transactionsController.updateAccountTransactions(t))})),a.preferencesController.on("accountTokensUpdated",(function(){a.accountManager.updateAccounts()}));var r=a.preferencesController.getNetwork();a.provider=new o.providers.HttpProvider(r.chainId);var s=[Z.a,Q.a];a.keyringController=new M({initState:n.keyringController,keyringTypes:s}),a.keyringController.memStore.subscribe((function(e){return a._onKeyringVaultUpdate(e)})),a.accountManager=new Y({getProvider:a.getProvider,getNetwork:a.preferencesController.getNetwork.bind(a.preferencesController),getTokens:a.preferencesController.getTokens.bind(a.preferencesController),preferencesController:a.preferencesController}),a.transactionsController=new X({initState:n.transactionsController,getProvider:a.getProvider,preferencesController:a.preferencesController,signAndSendTransaction:a.keyringController.signAndSendTransaction.bind(a.keyringController),updateAccounts:a.accountManager.updateAccounts.bind(a.accountManager)}),a.store.updateStructure({keyringController:a.keyringController.store,preferencesController:a.preferencesController.store}),a.preferencesController.store.subscribe((function(e){try{localStorage&&localStorage.setItem("preferencesController",JSON.stringify(d.a.pick(e,"accountTokens")))}catch(t){}})),a.memStore.updateStructure({keyringController:a.keyringController.memStore,preferencesController:a.preferencesController.store,transactionsController:a.transactionsController.memStore,accountManager:a.accountManager.store}),a.memStore.subscribe((function(e){a.sendUpdate()}));return a.on("update",(function(e){})),a.RPCApi=a._setupRPCApi(),a}return Object(A.a)(t,e),Object(c.a)(t,[{key:"getState",value:function(){var e=this.keyringController.store.getState().vault,t=Boolean(e);return Object(C.a)({},{isInitialized:t},{},this.memStore.getFlatState())}},{key:"_sendUpdate",value:function(){this.emit("update",this.getState())}},{key:"_onKeyringVaultUpdate",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.keyrings,(n=a.reduce((function(e,t){var a=t.accounts;return e.concat(a)}),[])).length){e.next=4;break}return e.abrupt("return");case 4:this.preferencesController.syncAddresses(n),this.accountManager.syncAddresses(n);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"selectFirstIdentity",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.preferencesController.store.getState(),a=t.identities,n=Object.keys(a)[0],e.next=4,this.preferencesController.setSelectedAddress(n);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_setupRPCApi",value:function(){return{getState:this._getState.bind(this),addTransactionRequest:this._addTransactionRequest.bind(this),approveTransactionRequest:this._approveTransactionRequest.bind(this),rejectTransactionRequest:this._rejectTransactionRequest.bind(this),addToken:this._addToken.bind(this),removeToken:this._removeToken.bind(this),setSelectedAddress:this._setSelectedAddress.bind(this),setSelectedNetwork:this._setSelectedNetwork.bind(this),importAccount:this._importAccount.bind(this),sendTransaction:this._sendTransaction.bind(this),updateAccountStakes:this._updateAccountStakes.bind(this),updateAccountBalances:this._updateAccountBalances.bind(this),updateAccountTransactions:this._updateAccountTransactions.bind(this),connectHardware:this.connectHardware.bind(this),forgetDevice:this.forgetDevice.bind(this),checkHardwareStatus:this.checkHardwareStatus.bind(this),unlockHardwareWalletAccount:this.unlockHardwareWalletAccount.bind(this)}}},{key:"_sendTransaction",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.transactionRequest,this.getState().isInitialized){e.next=3;break}throw Error("Your Theta Wallet has not be initialized.");case 3:return e.next=5,this.transactionsController.addTransactionRequest(a);case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getState",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getState();case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addTransactionRequest",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.transactionRequest,e.next=3,this.transactionsController.addTransactionRequest(a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_approveTransactionRequest",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.transactionRequestId,n=t.onDependencySent,e.next=3,this.transactionsController.approveTransactionRequest(a,n);case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_rejectTransactionRequest",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.transactionRequestId,e.next=3,this.transactionsController.rejectTransactionRequest(a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addToken",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n,s,i,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.token,n=a.address,s=a.symbol,i=a.decimals,c=a.image,e.next=4,this.preferencesController.addToken(n,s,i,c);case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_removeToken",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.address,e.next=3,this.preferencesController.removeToken(a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_setSelectedAddress",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.address,e.next=3,this.preferencesController.setSelectedAddress(a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_setSelectedNetwork",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.network,e.next=3,this.preferencesController.setNetwork(a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_importAccount",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n,s,i,c,u,l,d,p,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.importType,a=t.privateKey,n=t.encryptedJson,s=t.encryptedJsonPassword,i=t.name,c=null,!a){e.next=6;break}c=a,e.next=12;break;case 6:if(!n||!s){e.next=11;break}u=o.Wallet.fromEncryptedJson(n,s,null),c=u.privateKey,e.next=12;break;case 11:throw new Error("Invalid account.");case 12:return e.next=14,this.keyringController.addNewKeyring(F.type,[c]);case 14:return l=e.sent,e.next=17,l.getAccounts();case 17:return d=e.sent,e.next=20,this.keyringController.getAccounts();case 20:if(p=e.sent,this.preferencesController.setAddresses(p),!(m=d[0])||!i){e.next=26;break}return e.next=26,this.preferencesController.setAccountName(m,i);case 26:return e.next=28,this.preferencesController.setSelectedAddress(m);case 28:return this.accountManager.start(),e.abrupt("return",!0);case 30:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateAccountStakes",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.address,e.abrupt("return",this.accountManager.updateAccountStakes(a));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateAccountBalances",value:function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(S.a)(t),e.abrupt("return",this.accountManager.updateAccounts());case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateAccountTransactions",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.address,e.abrupt("return",this.transactionsController.updateAccountTransactions(a));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getKeyringForDevice",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n,s,i=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=i.length>1&&void 0!==i[1]?i[1]:null,n=null,e.t0=t,e.next="trezor"===e.t0?5:"ledger"===e.t0?7:9;break;case 5:return n=Z.a.type,e.abrupt("break",10);case 7:return n=Q.a.type,e.abrupt("break",10);case 9:throw new Error("ThetaWalletController:getKeyringForDevice - Unknown device");case 10:return e.next=12,this.keyringController.getKeyringsByType(n)[0];case 12:if(s=e.sent){e.next=17;break}return e.next=16,this.keyringController.addNewKeyring(n);case 16:s=e.sent;case 17:return a&&s.setHdPath&&(a===te?a=te:a===ae?a=ae:a===ne&&(a="m/44'/60'/0'/0/0"),s.setHdPath(a)),e.abrupt("return",s);case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"connectHardware",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a,n){var s,i,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getKeyringForDevice(t,n);case 2:s=e.sent,i=[],e.t0=a,e.next=-1===e.t0?7:1===e.t0?11:15;break;case 7:return e.next=9,s.getPreviousPage();case 9:return i=e.sent,e.abrupt("break",18);case 11:return e.next=13,s.getNextPage();case 13:return i=e.sent,e.abrupt("break",18);case 15:return e.next=17,s.getFirstPage();case 17:i=e.sent;case 18:return e.next=20,this.keyringController.getAccounts();case 20:return c=e.sent,o=Object(T.a)(new Set(c.concat(i.map((function(e){return e.address.toLowerCase()}))))),this.accountManager.syncAddresses(o),e.abrupt("return",i);case 24:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"checkHardwareStatus",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getKeyringForDevice(t,a);case 2:return n=e.sent,e.abrupt("return",n.isUnlocked());case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"forgetDevice",value:function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getKeyringForDevice(t);case 2:return e.sent.forgetDevice(),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unlockHardwareWalletAccount",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a,n){var s,i,c,o,u,l,d=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getKeyringForDevice(a,n);case 2:return(s=e.sent).setAccountToUnlock(t),e.next=6,this.keyringController.getAccounts();case 6:return i=e.sent,e.next=9,this.keyringController.addNewAccount(s);case 9:return c=e.sent,e.next=12,this.keyringController.getAccounts();case 12:return o=e.sent,this.preferencesController.setAddresses(o),o.forEach((function(e){i.includes(e)||d.preferencesController.setSelectedAddress(e)})),this.accountManager.start(),u=this.preferencesController.store.getState(),l=u.identities,e.abrupt("return",Object(C.a)({},c,{identities:l}));case 18:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()}]),t}(a(43).EventEmitter));a.d(t,"a",(function(){return te})),a.d(t,"c",(function(){return ae})),a.d(t,"b",(function(){return ne})),a.d(t,"d",(function(){return re})),a.d(t,"e",(function(){return se}));var ee=a(120),te="m/44'/60'/0'/0/",ae="m/44'/60'/0'/",ne="m/44'/60'/",re={KEYSTORE_FILE:"keystore-file",MNEMONIC_PHRASE:"mnemonic-phrase",COLD_WALLET:"cold-wallet",PRIVATE_KEY:"private-key"},se=function(){function e(){Object(i.a)(this,e)}return Object(c.a)(e,null,[{key:"setWallet",value:function(t){this._wallet=t,null===t&&e.setKeystore(null)}},{key:"getWallet",value:function(){return this._wallet}},{key:"setKeystore",value:function(e){this._keystore=e}},{key:"getKeystore",value:function(){return this._keystore}},{key:"getWalletAddress",value:function(){return d.a.get(this._wallet,["address"],null)}},{key:"getWalletPath",value:function(){return d.a.get(this._wallet,["path"],null)}},{key:"getWalletHardware",value:function(){return d.a.get(this._wallet,["hardware"],null)}},{key:"unlocked",value:function(){return null!==this._wallet}},{key:"encryptToKeystore",value:function(e,t){return p.a.getWeb3().eth.accounts.encrypt(e,t)}},{key:"decryptFromKeystore",value:function(e,t){return p.a.getWeb3().eth.accounts.decrypt(e,t)}},{key:"walletFromMnemonic",value:function(e){return u.a.Wallet.fromMnemonic(e,"m/44'/500'/0'/0/0")}},{key:"walletFromPrivateKey",value:function(e){return p.a.getWeb3().eth.accounts.privateKeyToAccount(e)}},{key:"walletFromTrezor",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(v.a.manifest({email:"support@thetatoken.org",appUrl:"https://wallet.thetatoken.org",keepSession:!0}),a=[],n=0;n<50;n++)a.push({path:"m/44'/60'/0'/0/"+(5*t+n),showOnTrezor:!1});return e.next=5,v.a.ethereumGetAddress({bundle:a,keepSession:!0});case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"walletFromLedger",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a){var n,s,i,c,o,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(navigator.userAgent.toLowerCase().indexOf("firefox")>-1)){e.next=6;break}return e.next=3,O.a.create();case 3:n=e.sent,e.next=9;break;case 6:return e.next=8,E.a.create();case 8:n=e.sent;case 9:s=new k.a(n),i=[],c={},o=0;case 12:if(!(o<5)){e.next=22;break}return u="","m/44'/500'/"===a?u="m/44'/500'/"+(5*t+o)+"'/0/0":a===te?u=te+(5*t+o):a===ae?u=ae+(5*t+o):a===ne&&(u=ne+(5*t+o)+"'/0/0"),e.next=17,s.getAddress(u,!1,!1);case 17:c=e.sent,i.push({address:c.address,serializedPath:u});case 19:o++,e.next=12;break;case 22:return e.abrupt("return",i);case 23:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"createWallet",value:function(e){var t=o.Wallet.createRandom().mnemonic.phrase,a=this.walletFromMnemonic(t);return{wallet:a,keystore:this.encryptToKeystore(a.privateKey,e)}}},{key:"unlockWallet",value:function(){var t=Object(s.a)(r.a.mark((function t(a,n,s){var i,c,o,u,l,p,m,h,f;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=null,c=s.keystore,o=s.mnemonic,u=s.privateKey,l=s.hardware,p=s.address,m=s.path,t.prev=2,a!==re.KEYSTORE_FILE){t.next=10;break}return("string"===typeof c||c instanceof String)&&(c=JSON.parse(c)),i=e.decryptFromKeystore(c,n),t.next=8,this.controller.RPCApi.importAccount({privateKey:i.privateKey});case 8:t.next=30;break;case 10:if(a!==re.MNEMONIC_PHRASE){t.next=18;break}return o=o.toString(),o=d.a.trim(o),i=e.walletFromMnemonic(o.toString()),t.next=16,this.controller.RPCApi.importAccount({privateKey:i.privateKey});case 16:t.next=30;break;case 18:if(a!==re.PRIVATE_KEY){t.next=29;break}if(!1===(u=d.a.trim(u)).startsWith("0x")&&(u="0x"+u),h=ee.toBuffer(u),ee.isValidPrivate(h)){t.next=24;break}throw new Error("Private key does not satisfy the curve requirements (ie. it is invalid)");case 24:return i=e.walletFromPrivateKey(u),t.next=27,this.controller.RPCApi.importAccount({privateKey:u});case 27:t.next=30;break;case 29:a===re.COLD_WALLET&&((i={}).address=p);case 30:return i&&(e.setWallet({address:i.address,path:m,hardware:l}),a===re.COLD_WALLET||null!==c&&void 0!==c||(c=e.encryptToKeystore(i.privateKey,n)),e.setKeystore(c)),t.abrupt("return",i);case 34:throw t.prev=34,t.t0=t.catch(2),f=null,a===re.KEYSTORE_FILE?f="Wrong password OR invalid keystore.":a===re.MNEMONIC_PHRASE?f="No wallet found for this mnemonic phrase.":a===re.PRIVATE_KEY&&(f="No wallet found for this private key."),new Error(f);case 39:case"end":return t.stop()}}),t,this,[[2,34]])})));return function(e,a,n){return t.apply(this,arguments)}}()},{key:"getThetaTxSequence",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a){var n,s,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.fetchSequence(t,{network:a});case 2:return n=e.sent,e.next=5,n.json();case 5:return s=e.sent,i=parseInt(s.sequence)+1,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"verifyPassword",value:function(t){try{var a=e.getWalletHardware();if("trezor"===a)return!0;if("ledger"===a)return!0;var n=e.getKeystore();return!!e.decryptFromKeystore(n,t)}catch(r){return!1}}},{key:"signTransaction",value:function(){var t=Object(s.a)(r.a.mark((function t(a,n,s){var i,c,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("trezor"!==(i=e.getWalletHardware())){t.next=5;break}return t.abrupt("return",b.a.signTransaction(n));case 5:if("ledger"!==i){t.next=9;break}return t.abrupt("return",y.a.signTransaction(n));case 9:if(c=e.getKeystore(),!(o=e.decryptFromKeystore(c,s))){t.next=15;break}return t.abrupt("return",m.a.signTransaction(n,o.privateKey));case 15:throw new Error("Wrong password. Your transaction could not be signed.");case 16:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}()},{key:"exportKeystore",value:function(t,a){var n=e.getKeystore(),r=e.decryptFromKeystore(n,t);if(r)return e.encryptToKeystore(r.privateKey,a);throw new Error("Wrong password.  Your keystore could not be exported.")}}]),e}();se._wallet=null,se._keystore=null,se.controller=new $({initState:function(){try{var e=localStorage.getItem("preferencesController");return{preferencesController:d.a.isEmpty(e)?{}:JSON.parse(e)}}catch(t){return{}}}()})},18:function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return o}));var n=a(63);function r(e){return{type:n.e,modal:e}}function s(){return{type:n.b}}function i(){return{type:n.c}}function c(e){return{type:n.d,message:e}}function o(){return{type:n.a}}},198:function(e,t,a){"use strict";(function(e){var n=a(1),r=a.n(n),s=a(12),i=a(3),c=a(4),o=a(8),u=a(6),l=a(9),d=a(7),p=a.n(d),m=a(150),h=a(43).EventEmitter,f=a(120),v=a(302),b=a(101).default,y={email:"support@thetatoken.org",appUrl:"https://wallet.thetatoken.org",keepSession:!0},g=function(t){function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(this,a),(e=Object(o.a)(this,Object(u.a)(a).call(this))).type="Trezor Hardware",e.accounts=[],e.hdk=new v,e.page=0,e.perPage=5,e.unlockedAccount=0,e.paths={},e.deserialize(t),b.manifest(y),e}return Object(l.a)(a,t),Object(c.a)(a,[{key:"serialize",value:function(){return Promise.resolve({hdPath:this.hdPath,accounts:this.accounts,page:this.page,paths:this.paths,perPage:this.perPage,unlockedAccount:this.unlockedAccount})}},{key:"deserialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.hdPath=e.hdPath||"m/44'/60'/0'/0",this.accounts=e.accounts||[],this.page=e.page||0,this.perPage=e.perPage||5,Promise.resolve()}},{key:"isUnlocked",value:function(){return!(!this.hdk||!this.hdk.publicKey)}},{key:"unlock",value:function(){var t=this;return this.isUnlocked()?Promise.resolve("already unlocked"):new Promise((function(a,n){b.getPublicKey({path:t.hdPath,coin:"ETH"}).then((function(r){r.success?(t.hdk.publicKey=new e(r.payload.publicKey,"hex"),t.hdk.chainCode=new e(r.payload.chainCode,"hex"),a("just unlocked")):n(new Error(r.payload&&r.payload.error||"Unknown error"))})).catch((function(e){n(new Error(e&&e.toString()||"Unknown error"))}))}))}},{key:"setAccountToUnlock",value:function(e){this.unlockedAccount=parseInt(e,10)}},{key:"addAccounts",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(a,n){e.unlock().then((function(n){var r=e.unlockedAccount,s=r+t;e.accounts=[];for(var i=r;i<s;i++){var c=e._addressFromIndex("m",i);e.accounts.push(c),e.page=0}a(e.accounts)})).catch((function(e){n(e)}))}))}},{key:"getFirstPage",value:function(){return this.page=0,this._getPage(1)}},{key:"getNextPage",value:function(){return this._getPage(1)}},{key:"getPreviousPage",value:function(){return this._getPage(-1)}},{key:"_getPage",value:function(e){var t=this;return this.page+=e,this.page<=0&&(this.page=1),new Promise((function(e,a){t.unlock().then((function(a){for(var n=(t.page-1)*t.perPage,r=n+t.perPage,s=[],i=n;i<r;i++){var c=t._addressFromIndex("m",i);s.push({address:c,balance:null,index:i}),t.paths[f.toChecksumAddress(c)]=i}e(s)})).catch((function(e){a(e)}))}))}},{key:"getAccounts",value:function(){return Promise.resolve(this.accounts.slice())}},{key:"removeAccount",value:function(e){if(!this.accounts.map((function(e){return e.toLowerCase()})).includes(e.toLowerCase()))throw new Error("Address ".concat(e," not found in this keyring"));this.accounts=this.accounts.filter((function(t){return t.toLowerCase()!==e.toLowerCase()}))}},{key:"signAndSendTransaction",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a,n){var s,i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.unlock();case 2:if(e.sent,!p.a.isNil(a.getSequenceOverride())){e.next=9;break}return e.next=6,n.getTransactionCount(t);case 6:s=e.sent,s+=1,a.setSequence(s);case 9:return a.setFrom(f.toChecksumAddress(t)),e.next=12,m.a.signTransaction(a);case 12:return i=e.sent,c=n.sendTransaction(i),e.abrupt("return",Promise.resolve(c));case 15:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"signMessage",value:function(e,t){return Promise.reject(new Error("Not supported on this device"))}},{key:"signPersonalMessage",value:function(e,t){return Promise.reject(new Error("Not supported on this device"))}},{key:"signTypedData",value:function(e,t){return Promise.reject(new Error("Not supported on this device"))}},{key:"exportAccount",value:function(e){return Promise.reject(new Error("Not supported on this device"))}},{key:"forgetDevice",value:function(){this.accounts=[],this.hdk=new v,this.page=0,this.unlockedAccount=0,this.paths={}}},{key:"_normalize",value:function(e){return f.bufferToHex(e).toString()}},{key:"_addressFromIndex",value:function(e,t){var a=this.hdk.derive("".concat(e,"/").concat(t)),n=f.publicToAddress(a.publicKey,!0).toString("hex");return f.toChecksumAddress(n).toLowerCase()}},{key:"_pathFromAddress",value:function(e){var t=f.toChecksumAddress(e),a=this.paths[t];if("undefined"===typeof a)for(var n=0;n<1e3;n++)if(t===this._addressFromIndex("m",n)){a=n;break}if("undefined"===typeof a)throw new Error("Unknown address");return"".concat(this.hdPath,"/").concat(a)}}]),a}(h);g.type="Trezor Hardware",t.a=g}).call(this,a(19).Buffer)},199:function(e,t,a){"use strict";(function(e){var n=a(1),r=a.n(n),s=a(12),i=a(3),c=a(4),o=a(8),u=a(6),l=a(9),d=a(82),p=a.n(d),m=a(81),h=a(83),f=a.n(h),v=a(7),b=a.n(v),y=a(151),g=a(43).EventEmitter,k=a(302),E=a(120),w="Ledger Hardware",O=function(t){function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(this,a),(e=Object(o.a)(this,Object(u.a)(a).call(this))).accountIndexes={},e.type=w,e.page=0,e.perPage=5,e.unlockedAccount=0,e.hdk=new k,e.paths={},e.deserialize(t),e}return Object(l.a)(a,t),Object(c.a)(a,[{key:"serialize",value:function(){return Promise.resolve({hdPath:this.hdPath,accounts:this.accounts,accountIndexes:this.accountIndexes})}},{key:"deserialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.hdPath=t.hdPath||"m/44'/60'/0'",this.accounts=t.accounts||[],this.accountIndexes=t.accountIndexes||{},this._isBIP44()&&(this.accounts=this.accounts.filter((function(t){return Object.keys(e.accountIndexes).includes(E.toChecksumAddress(t))}))),Promise.resolve()}},{key:"isUnlocked",value:function(){return!(!this.hdk||!this.hdk.publicKey)}},{key:"setAccountToUnlock",value:function(e){this.unlockedAccount=parseInt(e,10)}},{key:"setHdPath",value:function(e){this.hdPath!==e&&(this.hdk=new k),this.hdPath=e}},{key:"unlock",value:function(t){var a=this;if(this.isUnlocked()&&!t)return Promise.resolve("already unlocked");var n=t?this._toLedgerPath(t):this.hdPath;return new Promise(function(){var t=Object(s.a)(r.a.mark((function t(s,i){var c,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a._getETH();case 3:return c=t.sent,t.next=6,c.getAddress(n,!1,!0);case 6:o=t.sent,a.hdk.publicKey=new e(o.publicKey,"hex"),a.hdk.chainCode=new e(o.chainCode,"hex"),s(o.address.toLowerCase()),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),i(new Error(t.t0.message||"Unknown error"));case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}())}},{key:"addAccounts",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(a,n){e.unlock().then(function(){var n=Object(s.a)(r.a.mark((function n(s){var i,c,o,u,l;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=e.unlockedAccount,c=i+t,e.accounts=[],o=i;case 4:if(!(o<c)){n.next=20;break}if(u=void 0,!e._isBIP44()){n.next=14;break}return l=e._getPathForIndex(o),n.next=10,e.unlock(l);case 10:u=n.sent,e.accountIndexes[E.toChecksumAddress(u)]=o,n.next=15;break;case 14:u=e._addressFromIndex("m",o);case 15:e.accounts.push(u),e.page=0;case 17:o++,n.next=4;break;case 20:a(e.accounts);case 21:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(e){n(e)}))}))}},{key:"getFirstPage",value:function(){return this.page=0,this._getPage(1)}},{key:"getNextPage",value:function(){return this._getPage(1)}},{key:"getPreviousPage",value:function(){return this._getPage(-1)}},{key:"getAccounts",value:function(){return Promise.resolve(this.accounts.slice())}},{key:"removeAccount",value:function(e){if(!this.accounts.map((function(e){return e.toLowerCase()})).includes(e.toLowerCase()))throw new Error("Address ".concat(e," not found in this keyring"));this.accounts=this.accounts.filter((function(t){return t.toLowerCase()!==e.toLowerCase()})),delete this.accountIndexes[E.toChecksumAddress(e)]}},{key:"signAndSendTransaction",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a,n){var s,i,c,o,u,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.unlock();case 2:if(e.sent,!this._isBIP44()){e.next=10;break}if(i=E.toChecksumAddress(t),Object.keys(this.accountIndexes).includes(i)){e.next=7;break}throw new Error("Ledger: Index for address '".concat(i,"' not found"));case 7:s=this._getPathForIndex(this.accountIndexes[i]),e.next=11;break;case 10:s=this._toLedgerPath(this._pathFromAddress(t));case 11:if(!b.a.isNil(a.getSequenceOverride())){e.next=17;break}return e.next=14,n.getTransactionCount(t);case 14:c=e.sent,c+=1,a.setSequence(c);case 17:return a.setFrom(E.toChecksumAddress(t)),e.next=20,this._getETH();case 20:return o=e.sent,e.next=23,y.a.signTransaction(o,s,a);case 23:return u=e.sent,l=n.sendTransaction(u),e.abrupt("return",Promise.resolve(l));case 26:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"signMessage",value:function(e,t){throw new Error("Not supported on this device")}},{key:"signPersonalMessage",value:function(e,t){throw new Error("Not supported on this device")}},{key:"signTypedData",value:function(e,t){throw new Error("Not supported on this device")}},{key:"exportAccount",value:function(e){throw new Error("Not supported on this device")}},{key:"forgetDevice",value:function(){this.accounts=[],this.page=0,this.unlockedAccount=0,this.paths={},this.hdk=new k}},{key:"_getPage",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var a,n,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.page+=t,this.page<=0&&(this.page=1),a=(this.page-1)*this.perPage,n=a+this.perPage,e.next=6,this.unlock();case 6:if(!this._isBIP44()){e.next=12;break}return e.next=9,this._getAccountsBIP44(a,n);case 9:s=e.sent,e.next=13;break;case 12:s=this._getAccountsLegacy(a,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getAccountsBIP44",value:function(){var e=Object(s.a)(r.a.mark((function e(t,a){var n,s,i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],s=t;case 2:if(!(s<a)){e.next=11;break}return i=this._getPathForIndex(s),e.next=6,this.unlock(i);case 6:c=e.sent,n.push({address:c.toLowerCase(),balance:null,index:s});case 8:s++,e.next=2;break;case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"_getAccountsLegacy",value:function(e,t){for(var a=[],n=e;n<t;n++){var r=this._addressFromIndex("m",n);a.push({address:r,balance:null,index:n}),this.paths[E.toChecksumAddress(r)]=n}return a}},{key:"_padLeftEven",value:function(e){return e.length%2!==0?"0".concat(e):e}},{key:"_normalize",value:function(e){return this._padLeftEven(E.bufferToHex(e).toLowerCase())}},{key:"_addressFromIndex",value:function(e,t){var a=this.hdk.derive("".concat(e,"/").concat(t)),n=E.publicToAddress(a.publicKey,!0).toString("hex");return E.toChecksumAddress(n).toLowerCase()}},{key:"_pathFromAddress",value:function(e){var t=E.toChecksumAddress(e),a=this.paths[t];if("undefined"===typeof a)for(var n=0;n<1e3;n++)if(t===this._addressFromIndex("m",n)){a=n;break}if("undefined"===typeof a)throw new Error("Unknown address");return this._getPathForIndex(a)}},{key:"_getPathForIndex",value:function(e){return this._isBIP44()?"m/44'/60'/".concat(e,"'/0/0"):"".concat(this.hdPath).concat(e)}},{key:"_isBIP44",value:function(){return"m/44'/60'/0'/0/0"===this.hdPath}},{key:"_toLedgerPath",value:function(e){return e.toString().replace("m/","")}},{key:"_getETH",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(navigator.userAgent.toLowerCase().indexOf("firefox")>-1)){e.next=6;break}return e.next=3,p.a.create();case 3:t=e.sent,e.next=9;break;case 6:return e.next=8,m.a.create();case 8:t=e.sent;case 9:return a=new f.a(t),e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),a}(g);O.type=w,t.a=O}).call(this,a(19).Buffer)},26:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var n=a(1),r=a.n(n),s=a(12),i=a(3),c=a(4),o=a(14),u=a(103),l=a(31),d=a(60),p=a(80),m=a(30),h=a.n(m),f=a(21),v=a.n(f),b=a(44),y=function(){function e(){Object(i.a)(this,e)}return Object(c.a)(e,null,[{key:"setChainID",value:function(e){this._chainId=e}},{key:"getChainID",value:function(){return this._chainId}},{key:"getTransactionExplorerUrl",value:function(e){var t=this.getChainID(),a=b.a[t];return"".concat(a,"/txs/").concat(e.hash)}},{key:"getAccountExplorerUrl",value:function(e){var t=this.getChainID(),a=b.a[t];return"".concat(a,"/account/").concat(e)}},{key:"getTransactionFee",value:function(){return.3}},{key:"getSmartContractGasPrice",value:function(){return 4e-6}},{key:"unsignedSendTx",value:function(e,t){var a=e.tokenType,n=e.from,r=e.to,s=e.amount,i=e.transactionFee,c=new o.BigNumber(10).pow(18),u=a===d.a.THETA?new o.BigNumber(s).multipliedBy(c):new o.BigNumber(0),p=a===d.a.THETA_FUEL?new o.BigNumber(s).multipliedBy(c):new o.BigNumber(0),m=new o.BigNumber(i).multipliedBy(c),h=n,f=t,v=[{address:r,thetaWei:u,tfuelWei:p}];return new l.a.SendTx(h,v,m,f)}},{key:"unsignedDepositStakeTx",value:function(e,t){e.tokenType;var a=e.from,n=e.holder,r=e.amount,s=e.transactionFee,i=e.purpose,c=new o.BigNumber(10).pow(18),u=new o.BigNumber(r).multipliedBy(c),d=new o.BigNumber(s).multipliedBy(c),p=a,m=t,h=null;return i===l.a.StakePurposes.StakeForValidator?h=new l.a.DepositStakeTx(p,n,u,d,i,m):i===l.a.StakePurposes.StakeForGuardian?h=new l.a.DepositStakeV2Tx(p,n,u,d,i,m):i===l.a.StakePurposes.StakeForEliteEdge&&(h=new l.a.DepositStakeV2Tx(p,n,u,d,i,m)),h}},{key:"unsignedWithdrawStakeTx",value:function(e,t){e.tokenType;var a=e.from,n=e.holder,r=e.transactionFee,s=e.purpose,i=new o.BigNumber(10).pow(18),c=new o.BigNumber(r).multipliedBy(i),u=a,d=t;return new l.a.WithdrawStakeTx(u,n,c,s,d)}},{key:"unsignedSmartContractTx",value:function(e,t){var a=e.from,n=e.to,r=e.data,s=e.value,i=e.transactionFee,c=e.gasLimit,u=new o.BigNumber(10).pow(18),d=t,p=new o.BigNumber(i).multipliedBy(u);return new l.a.SmartContractTx(a,n,c,p,r,s,d)}},{key:"isAddress",value:function(e){return u.a.isAddress(e)}},{key:"isValidHolderSummary",value:function(e,t){return l.a.DepositStakeV2Tx.isValidHolderSummary(e,t)}},{key:"signTransaction",value:function(){var t=Object(s.a)(r.a.mark((function t(a,n){var s,i,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=e.getChainID(),i=l.a.TxSigner.signAndSerializeTx(s,a,n),!(c=(c=i.toString("hex")).substring(2))){t.next=8;break}return t.abrupt("return",c);case 8:throw new Error("Failed to sign transaction.");case 9:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"prepareTxPayload",value:function(t){var a=e.getChainID(),n=h.a.encode(v.a.fromString(a)),r=h.a.encode(v.a.fromNumber(t.getType())),s=h.a.encode(t.rlpInput());return(n+r.slice(2)+s.slice(2)).toString("hex")}}]),e}();y._chainId=p.a.defaultThetaChainID},27:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return u})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return d})),a.d(t,"e",(function(){return p})),a.d(t,"h",(function(){return m})),a.d(t,"g",(function(){return h})),a.d(t,"f",(function(){return f}));var n,r,s,i=a(16),c=a(10),o=(a(31),n={},Object(i.a)(n,c.networks.ChainIds.Mainnet,"0xb6ecbc094abd0ff7cf030ec9e81f6ca8045b87f9"),Object(i.a)(n,c.networks.ChainIds.Testnet,"0xf0cfe34a7e053520f08bf0a982391810ece9c582"),Object(i.a)(n,c.networks.ChainIds.Privatenet,"0xedba30e32e11ae95ca9c000b8de97c7af087c7de"),n),u=(r={},Object(i.a)(r,c.networks.ChainIds.Mainnet,"0xA89c744Db76266ecA60e2b0F62Afcd1f8581b7ed"),Object(i.a)(r,c.networks.ChainIds.Testnet,"0xA8bfA60203E55f86Dc7013CBf3d8fF85bb1d3cC7"),r),l=(s={},Object(i.a)(s,c.networks.ChainIds.Mainnet,"0x1336739B05C7Ab8a526D40DCC0d04a826b5f8B03"),Object(i.a)(s,c.networks.ChainIds.Testnet,"0x08a0c0e8EFd07A98db11d79165063B6Bc2469ADF"),s),d=1e3,p={PreventingLostTokens:"https://docs.thetatoken.org/docs/preventing-lost-eth-erc20-tokens"};function m(e){return e===c.constants.StakePurpose.StakeForValidator?2e6:e===c.constants.StakePurpose.StakeForGuardian?1e3:e===c.constants.StakePurpose.StakeForEliteEdge?1e4:0}function h(e){return e===c.constants.StakePurpose.StakeForEliteEdge?5e5:1e11}function f(e){return e===c.constants.StakePurpose.StakeForGuardian?1e11:0}},29:function(e,t,a){"use strict";t.a={RECEIVE:"receive",SEND:"send",SEND_CONFIRMATION:"send-confirmation",PRIVATE_KEY:"private-key",DEPOSIT_STAKE:"deposit-stake",DEPOSIT_STAKE_CONFIRMATION:"deposit-stake-confirmation",WITHDRAW_STAKE:"withdraw-stake",WITHDRAW_STAKE_CONFIRMATION:"withdraw-stake-confirmation",SMART_CONTRACT_CONFIRMATION:"smart-contract-confrimation",NETWORK_SELECTOR:"network-selector",GUARDIAN_NODE_DELEGATE_SELECTOR:"guardian-node-delegate-selector",CONFIRM_TRANSACTION:"confirm-transaction",CREATE_TRANSACTION:"create-transaction",DELEGATED_NODE_SELECTOR:"delegated-node-selector",TRACK_TOKEN:"track-token"}},31:function(e,t,a){"use strict";(function(e){var n=a(61),r=a(8),s=a(6),i=a(9),c=a(3),o=a(4),u=a(321),l=a.n(u),d=a(322),p=a.n(d),m=a(14),h=a.n(m),f=a(21),v=a.n(f),b=a(30),y=a.n(b),g=a(147),k=a.n(g),E=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,[{key:"signBytes",value:function(e){}},{key:"getType",value:function(){}},{key:"rlpInput",value:function(){}}]),e}(),w=function(e){return(l()(e)||p()(e))&&/^(-)?0x[0-9a-f]*$/i.test(e)},O=function(e){if(e=e.toString(16),!w(e))throw new Error('Given value "'.concat(e,'" is not a valid hex string.'));e=(e=e.replace(/^0x/i,"")).length%2?"0"+e:e;for(var t=[],a=0;a<e.length;a+=2)t.push(parseInt(e.substr(a,2),16));return t};h.a.prototype.pad=function(e){for(var t=String(this);t.length<(e||2);)t="0"+t;return t};var T,S=function(e){var t="0x"===e.slice(0,2)?16:10;return"0x"+new h.a(e,t).pad(2)},C=function(e){return null===e||void 0===e?v.a.fromNat("0x0"):e.isEqualTo(new h.a(0))?v.a.fromNat("0x0"):v.a.fromNumber(e)},j=function(){function e(t,a){Object(c.a)(this,e),this.thetaWei=t,this.tfuelWei=a}return Object(o.a)(e,[{key:"rlpInput",value:function(){var e=[C(this.thetaWei),C(this.tfuelWei)];return e}}]),e}(),_=function(){function e(t,a,n,r){Object(c.a)(this,e),this.address=t,this.sequence=r,this.signature="",this.coins=a||n?new j(a,n):new j(null,null)}return Object(o.a)(e,[{key:"setSignature",value:function(e){this.signature=e}},{key:"rlpInput",value:function(){return[this.address?this.address.toLowerCase():v.a.fromNat("0x0"),this.coins.rlpInput(),v.a.fromNumber(this.sequence),this.signature]}}]),e}(),N=function(){function e(t,a,n){Object(c.a)(this,e),this.address=t,this.coins=a||n?new j(a,n):new j(null,null)}return Object(o.a)(e,[{key:"rlpInput",value:function(){return[this.address?this.address.toLowerCase():"0x0000000000000000000000000000000000000000",this.coins.rlpInput()]}}]),e}(),A=2,x=7,I=8,P=9,R=10,F=function(){function e(t){Object(c.a)(this,e),this.nonce="0x0",this.gasPrice="0x0",this.gas="0x0",this.to="0x0000000000000000000000000000000000000000",this.value="0x0",this.input=t}return Object(o.a)(e,[{key:"rlpInput",value:function(){return[v.a.fromNat(this.nonce),v.a.fromNat(this.gasPrice),v.a.fromNat(this.gas),this.to.toLowerCase(),v.a.fromNat(this.value),this.input]}}]),e}(),D=function(e){function t(e,a,n,i){var o;Object(c.a)(this,t),o=Object(r.a)(this,Object(s.a)(t).call(this));for(var u=new h.a(0),l=new h.a(0),d=h.a.isBigNumber(n)?n:new h.a(n),p=0;p<a.length;p++){var m=a[p],f=m.thetaWei,v=m.tfuelWei,b=h.a.isBigNumber(f)?f:new h.a(f),y=h.a.isBigNumber(v)?v:new h.a(v);u=u.plus(b),l=l.plus(y)}o.fee=new j(new h.a(0),d);var g=new _(e,u,l.plus(d),i);o.inputs=[g],o.outputs=[];for(var k=0;k<a.length;k++){var E=a[k],w=E.address,O=E.thetaWei,T=E.tfuelWei,S=h.a.isBigNumber(O)?O:new h.a(O),C=h.a.isBigNumber(T)?T:new h.a(T),A=new N(w,S,C);o.outputs.push(A)}return o}return Object(i.a)(t,e),Object(o.a)(t,[{key:"setSignature",value:function(e){this.inputs[0].setSignature(e)}},{key:"signBytes",value:function(e){for(var t=[],a=0;a<this.inputs.length;a++){var n=this.inputs[a];t[a]=n.signature,n.signature=""}var r=y.a.encode(v.a.fromString(e)),s=y.a.encode(v.a.fromNumber(this.getType())),i=y.a.encode(this.rlpInput()),c=r+s.slice(2)+i.slice(2),o=new F(c),u=y.a.encode(o.rlpInput());console.log("SendTx :: signBytes :: txRawBytes = "+u);for(var l=0;l<this.inputs.length;l++){this.inputs[l].signature=t[l]}return u}},{key:"getType",value:function(){return A}},{key:"rlpInput",value:function(){for(var e=this.inputs.length,t=this.outputs.length,a=[],n=[],r=0;r<e;r++)a[r]=this.inputs[r].rlpInput();for(var s=0;s<t;s++)n[s]=this.outputs[s].rlpInput();var i=[this.fee.rlpInput(),a,n];return i}}]),t}(E),W={StakeForValidator:0,StakeForGuardian:1,StakeForEliteEdge:2},M=function(e){function t(){return Object(c.a)(this,t),Object(r.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(i.a)(t,e),t}(E),L=function(e){function t(e,a,n,i,o,u){var l;Object(c.a)(this,t),l=Object(r.a)(this,Object(s.a)(t).call(this));var d=h.a.isBigNumber(i)?i:new h.a(i);l.fee=new j(new h.a(0),d);var p=h.a.isBigNumber(n)?n:new h.a(n);return l.source=new _(e,p,null,u),l.purpose=o,a.startsWith("0x")||(a="0x"+a),42!==a.length&&console.log("Holder must be a valid address"),l.holder=new N(a,null,null),l}return Object(i.a)(t,e),Object(o.a)(t,[{key:"setSignature",value:function(e){this.source.setSignature(e)}},{key:"signBytes",value:function(e){var t=this.source.signature;this.source.signature="";var a=y.a.encode(v.a.fromString(e)),n=y.a.encode(v.a.fromNumber(this.getType())),r=y.a.encode(this.rlpInput()),s=a+n.slice(2)+r.slice(2),i=new F(s),c=y.a.encode(i.rlpInput());return this.source.signature=t,c}},{key:"getType",value:function(){return I}},{key:"rlpInput",value:function(){var e=[this.fee.rlpInput(),this.source.rlpInput(),this.holder.rlpInput(),0===this.purpose?v.a.fromNat("0x0"):v.a.fromNumber(this.purpose)];return e}}]),t}(M),B=function(e){function t(e,a,n,i,o,u){var l;Object(c.a)(this,t),l=Object(r.a)(this,Object(s.a)(t).call(this));var d=h.a.isBigNumber(i)?i:new h.a(i);l.fee=new j(new h.a(0),d);var p=h.a.isBigNumber(n)?n:new h.a(n);l.source=o===W.StakeForEliteEdge?new _(e,null,p,u):new _(e,p,null,u),l.purpose=o,a.startsWith("0x")||(a="0x"+a),t.isValidHolderSummary(o,a)||console.log("Holder must be a valid node summary");var m=v.a.toArray(a),f=m.slice(0,20);l.blsPubkeyBytes=m.slice(20,68),l.blsPopBytes=m.slice(68,164),l.holderSigBytes=m.slice(164,229);var b=v.a.fromArray(f);return l.holder=new N(b,null,null),l}return Object(i.a)(t,e),Object(o.a)(t,null,[{key:"isValidHolderSummary",value:function(e,t){if(t){var a=t;t.startsWith("0x")||(a="0x"+t);var n=460;return e===W.StakeForEliteEdge&&(n=524),a.length===n}return!1}}]),Object(o.a)(t,[{key:"setSignature",value:function(e){this.source.setSignature(e)}},{key:"signBytes",value:function(e){var t=this.source.signature;this.source.signature="";var a=y.a.encode(v.a.fromString(e)),n=y.a.encode(v.a.fromNumber(this.getType())),r=y.a.encode(this.rlpInput()),s=a+n.slice(2)+r.slice(2),i=new F(s),c=y.a.encode(i.rlpInput());return this.source.signature=t,c}},{key:"getType",value:function(){return R}},{key:"rlpInput",value:function(){var e=[this.fee.rlpInput(),this.source.rlpInput(),this.holder.rlpInput(),v.a.fromNumber(this.purpose),v.a.fromArray(this.blsPubkeyBytes),v.a.fromArray(this.blsPopBytes),v.a.fromArray(this.holderSigBytes)];return e}}]),t}(M),U=function(e){function t(e,a,n,i,o){var u;Object(c.a)(this,t),u=Object(r.a)(this,Object(s.a)(t).call(this));var l=h.a.isBigNumber(n)?n:new h.a(n);return u.fee=new j(new h.a(0),l),u.source=new _(e,null,null,o),u.holder=new N(a,null,null),u.purpose=i,u}return Object(i.a)(t,e),Object(o.a)(t,[{key:"setSignature",value:function(e){this.source.setSignature(e)}},{key:"signBytes",value:function(e){var t=this.source.signature;this.source.signature="";var a=y.a.encode(v.a.fromString(e)),n=y.a.encode(v.a.fromNumber(this.getType())),r=y.a.encode(this.rlpInput()),s=a+n.slice(2)+r.slice(2),i=new F(s),c=y.a.encode(i.rlpInput());return console.log("SendTx :: signBytes :: txRawBytes = "+c),this.source.signature=t,c}},{key:"getType",value:function(){return P}},{key:"rlpInput",value:function(){var e=[this.fee.rlpInput(),this.source.rlpInput(),this.holder.rlpInput(),0===this.purpose?v.a.fromNat("0x0"):v.a.fromNumber(this.purpose)];return e}}]),t}(M),H=new((window.elliptic||a(86)).ec)("secp256k1"),K=(T=0,function(t,a){var r=H.keyFromPrivate(new e(a.slice(2),"hex")).sign(new e(t.slice(2),"hex"),{canonical:!0});return function(e){var t=Object(n.a)(e,3),a=t[0],r=t[1],s=t[2];return v.a.flatten([r,s,a])}([S(v.a.fromNumber(T+r.recoveryParam)),v.a.pad(32,v.a.fromNat("0x"+r.r.toString(16))),v.a.pad(32,v.a.fromNat("0x"+r.s.toString(16)))])}),q=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,null,[{key:"signAndSerializeTx",value:function(e,t,a){var n=this.signTx(e,t,a);return this.serializeTx(n)}},{key:"signTx",value:function(e,t,a){var n=function(e){w(e)&&/^0x/i.test(e.toString())&&(e=O(e));var t=k.a.keccak256(e);return"0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"===t?null:t}(t.signBytes(e)),r=K(n,a);return t.setSignature(r),t}},{key:"serializeTx",value:function(e){return y.a.encode(v.a.fromNumber(e.getType()))+y.a.encode(e.rlpInput()).slice(2)}}]),e}(),V=(a(56),{SendTx:D,DepositStakeTx:L,DepositStakeV2Tx:B,WithdrawStakeTx:U,SmartContractTx:function(e){function t(e,a,n,i,o,u,l){var d;Object(c.a)(this,t),d=Object(r.a)(this,Object(s.a)(t).call(this));var p=h.a.isBigNumber(u)?u:new h.a(u);return d.from=new _(e,null,p,l),d.to=new N(a,null,null),d.gasLimit=n,d.gasPrice=i,!1===o.toLowerCase().startsWith("0x")&&(o="0x"+o),d.data=v.a.toArray(o),d}return Object(i.a)(t,e),Object(o.a)(t,[{key:"setSignature",value:function(e){this.from.setSignature(e)}},{key:"signBytes",value:function(e){var t=this.from.signature;this.from.signature="";var a=y.a.encode(v.a.fromString(e)),n=y.a.encode(v.a.fromNumber(this.getType())),r=y.a.encode(this.rlpInput()),s=a+n.slice(2)+r.slice(2),i=new F(s),c=y.a.encode(i.rlpInput());return this.from.signature=t,c}},{key:"getType",value:function(){return x}},{key:"rlpInput",value:function(){var e=[this.from.rlpInput(),this.to.rlpInput(),v.a.fromNumber(this.gasLimit),C(this.gasPrice),v.a.fromArray(this.data)];return e}}]),t}(E),TxSigner:q,StakePurposes:W,Utils:{hexToBytes:O,bytesToHex:function(e){for(var t=[],a=0;a<e.length;a++)t.push((e[a]>>>4).toString(16)),t.push((15&e[a]).toString(16));return t.join("")}}});t.a=V}).call(this,a(19).Buffer)},34:function(e,t,a){"use strict";a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return p})),a.d(t,"d",(function(){return m}));var n=a(7),r=a.n(n),s=a(10),i=a(27),c=a(250).tokensByChainId,o=function(e){return r.a.isEmpty(e)?null:"https://s3.us-east-2.amazonaws.com/assets.thetatoken.org/tokens/".concat(e)},u={id:"theta",name:"Theta",symbol:"THETA",contractAddress:null,decimals:18,iconUrl:o("theta.png"),balanceKey:"thetawei"},l={id:"tfuel",name:"Theta Fuel",symbol:"TFUEL",contractAddress:null,decimals:18,iconUrl:o("tfuel.png"),balanceKey:"tfuelwei"},d=[u,l],p=function(e){var t=i.c[e],a=null;return t&&(a={id:t,name:"TDROP",symbol:"TDROP",contractAddress:t,address:t,decimals:18,iconUrl:o(r.a.get(c,[e,t,"logo"])),balanceKey:t}),a},m=function(e,t){var a=i.c[e],n=t.map(h),s=r.a.filter(n,(function(e){var t;return(null===(t=e.contractAddress)||void 0===t?void 0:t.toLowerCase())!==(null===a||void 0===a?void 0:a.toLowerCase())}));return r.a.concat(function(e){var t=i.c[e],a=[],n=p(e);return t&&a.push(n),r.a.concat(d,a)}(e),s)},h=function(e){var t=c[s.networks.ChainIds.Mainnet][e.address]||c[s.networks.ChainIds.Testnet][e.address];return{id:e.address,name:e.symbol,symbol:e.symbol,contractAddress:e.address,decimals:e.decimals,iconUrl:t?o(t.logo):null,balanceKey:e.address}}},340:function(e,t,a){e.exports=a(744)},345:function(e,t,a){},35:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(3),r=a(4),s=a(0),i=a.n(s),c=function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,null,[{key:"getRef",value:function(){return this._reactAlertRef}},{key:"_show",value:function(t,a){(0,e.getRef().current[t])(a)}},{key:"showInfo",value:function(e){this._show("info",e)}},{key:"showSuccess",value:function(e){this._show("success",e)}},{key:"showError",value:function(e){this._show("error",e)}}]),e}();c._reactAlertRef=i.a.createRef()},364:function(e,t){},365:function(e,t){},388:function(e,t){},390:function(e,t){},40:function(e,t,a){"use strict";a.d(t,"d",(function(){return y})),a.d(t,"f",(function(){return g})),a.d(t,"c",(function(){return k})),a.d(t,"g",(function(){return E})),a.d(t,"h",(function(){return w})),a.d(t,"a",(function(){return O})),a.d(t,"b",(function(){return T})),a.d(t,"e",(function(){return S}));var n=a(1),r=a.n(n),s=a(12),i=a(7),c=a.n(i),o=(a(47),a(102),a(50)),u=a(17),l=a(127),d=a(58),p=a(71),m=a(35),h=a(15),f=a(80),v=a(18),b=a(26);function y(e){return b.a.setChainID(e),u.e.controller.preferencesController.setNetwork({chainId:e}),function(){var t=Object(s.a)(r.a.mark((function t(a,n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:o.i,network:e});case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}function g(e,t,a){return function(){var n=Object(s.a)(r.a.mark((function n(s,i){var c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=null,n.prev=1,n.next=4,u.e.unlockWallet(e,t,a);case 4:c=n.sent,n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),m.a.showError(n.t0.message);case 10:c&&(s((r=c.address,{type:o.j,address:r})),Object(h.k)()?p.a.push("/wallet"):p.a.push("/offline"));case 11:case"end":return n.stop()}var r}),n,null,[[1,7]])})));return function(e,t){return n.apply(this,arguments)}}()}function k(){return function(){var e=Object(s.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.e.setWallet(null),b.a.setChainID(f.a.defaultThetaChainID),l.a.setWalletData(null),t({type:o.h}),t(Object(d.f)()),p.a.push("/unlock"),window.location.reload();case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}function E(e){return function(){var t=Object(s.a)(r.a.mark((function t(a,n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e&&a(Object(v.d)()),t.next=3,u.e.controller.RPCApi.updateAccountBalances({});case 3:t.sent,e&&a(Object(v.a)());case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}function w(e,t){return function(){var a=Object(s.a)(r.a.mark((function a(n,s){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t&&n(Object(v.d)()),a.next=3,u.e.controller.RPCApi.updateAccountStakes({address:e});case 3:a.sent,t&&n(Object(v.a)());case 5:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}function O(e){return function(){var t=Object(s.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(Object(v.d)()),t.next=4,u.e.controller.RPCApi.addToken({token:e});case 4:return n=t.sent,a(Object(v.b)()),a(Object(v.a)()),t.abrupt("return",n);case 10:return t.prev=10,t.t0=t.catch(0),a(Object(v.a)()),t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}function T(e,t,a){return function(){var n=Object(s.a)(r.a.mark((function n(s){var i;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(Object(v.d)("Looking for your ".concat(c.a.capitalize(e),"..."))),n.prev=1,n.next=4,u.e.controller.connectHardware(e,t,a);case 4:i=n.sent,n.next=12;break;case 7:throw n.prev=7,n.t0=n.catch(1),s(Object(v.a)()),m.a.showError(n.t0.message),n.t0;case 12:return s(Object(v.a)()),n.abrupt("return",i);case 14:case"end":return n.stop()}}),n,null,[[1,7]])})));return function(e){return n.apply(this,arguments)}}()}function S(e,t,a,n){return function(i){return i(Object(v.d)()),new Promise(function(){var c=Object(s.a)(r.a.mark((function s(c,o){return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.e.controller.unlockHardwareWalletAccount(e,a,n,(function(e){if(e)return m.a.showError(e.message),void o(e);i(Object(v.a)()),c()}));case 2:i(Object(v.a)()),i(g(u.d.COLD_WALLET,null,{hardware:a,path:n,address:t}));case 4:case"end":return r.stop()}}),s)})));return function(e,t){return c.apply(this,arguments)}}())}}},44:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return p})),a.d(t,"e",(function(){return m})),a.d(t,"d",(function(){return h}));var n,r=a(16),s=a(7),i=a.n(s),c=a(15),o={__deprecated__ETHEREUM:"ethereum",THETA_TESTNET:"testnet",THETA_TESTNET_AMBER:"testnet_amber",THETA_TESTNET_SAPPHIRE:"testnet_sapphire",THETA_MAINNET:"mainnet",THETA_PRIVATENET:"privatenet"},u=[{id:o.THETA_MAINNET,name:"Mainnet",description:"THETA mainnet (Default)",faucetId:"mainnet"},{id:o.THETA_TESTNET,name:"Testnet",description:"THETA testnet",faucetId:"testnet"},{id:o.THETA_TESTNET_AMBER,name:"Testnet_Amber",description:"THETA testnet for elite edge nodes (Apr 2021)"},{id:o.THETA_TESTNET_SAPPHIRE,name:"Testnet (Sapphire)",description:"THETA testnet for guardian nodes (Feb 2020)",faucetId:"sapphire"},{id:o.THETA_PRIVATENET,name:"Smart Contracts Sandbox",description:"THETA testnet for Smart Contracts (ALPHA)",faucetId:"smart_contract"}],l=Object(c.s)(u.map((function(e){return e.id})),u),d=(n={},Object(r.a)(n,o.THETA_MAINNET,"https://explorer.thetatoken.org"),Object(r.a)(n,o.THETA_TESTNET,"https://beta-explorer.thetatoken.org"),Object(r.a)(n,o.THETA_TESTNET_AMBER,"https://elite-edge-testnet-explorer.thetatoken.org"),Object(r.a)(n,o.THETA_TESTNET_SAPPHIRE,"https://guardian-testnet-explorer.thetatoken.org"),Object(r.a)(n,o.THETA_PRIVATENET,"https://smart-contracts-sandbox-explorer.thetatoken.org"),n);function p(e){return!0}function m(e){return i.a.get(l,[e,"name"])}function h(e){return i.a.get(l,[e,"faucetId"])}t.c=o},454:function(e,t,a){},455:function(e,t,a){},47:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return d}));var n=a(3),r=a(4),s={Accept:"application/json","Content-Type":"application/json"};function i(e){var t=e.status;return 200===t||201===t||202===t||204===t}function c(e){if(!e)return"";var t=Object.keys(e).map((function(t){if(e[t])return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&");return t.length>0?"?"+t:""}function o(e,t,a,n,r){var i=function(e,t){return e.startsWith("http://")||e.startsWith("https://")?e+c(t):"https://api-wallet.thetatoken.org"+e+c(t)}(e,n),o={method:t,headers:function(e){return Object.assign(s,e)}(a)};return r&&(o.body=JSON.stringify(r)),fetch(i,o)}function u(e,t,a){return o(e,"GET",t,a)}function l(e,t,a,n){return o(e,"POST",t,a,n)}var d=function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,null,[{key:"fetchWallet",value:function(e,t){return u("/wallet/".concat(e),null,t)}},{key:"createTransaction",value:function(e,t){return l("/tx",null,t,e)}},{key:"fetchTransaction",value:function(e,t){return u("/tx/".concat(e),null,t)}},{key:"fetchTransactions",value:function(e,t){return u("/tx/".concat(e,"/list"),null,t)}},{key:"fetchSequence",value:function(e,t){return u("/sequence/".concat(e),null,t)}},{key:"fetchStakes",value:function(e,t){return u("/stake/".concat(e,"/list"),null,t)}},{key:"callSmartContract",value:function(e,t){return l("/smart-contract/call",null,t,e)}},{key:"executeSmartContract",value:function(e,t){return l("/tx",null,t,e)}},{key:"callFaucet",value:function(e,t){return o("https://public-faucet.thetatoken.org/tfuel_faucet","GET",null,{address:e.toLowerCase(),chain:t},null)}},{key:"fetchGuardianNodeDelegates",value:function(){return o("https://api.thetatoken.org/v1/guardian/delegated-nodes","GET",null,null)}}]),e}()},49:function(e,t,a){"use strict";t.a={DEPLOY:"deploy",INTERACT:"interact",EXECUTE:"execute",CALL:"call"}},50:function(e,t,a){"use strict";a.d(t,"f",(function(){return s})),a.d(t,"e",(function(){return i})),a.d(t,"g",(function(){return c})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return d})),a.d(t,"j",(function(){return p})),a.d(t,"h",(function(){return m})),a.d(t,"i",(function(){return h}));var n="WALLET",r="".concat(n,"/FETCH_WALLET_ETHEREUM_BALANCES"),s="".concat(r,"/START"),i="".concat(r,"/END"),c=("".concat(r,"/FAILURE"),"".concat(r,"/SUCCESS")),o="".concat(n,"/FETCH_WALLET_BALANCES"),u="".concat(o,"/START"),l="".concat(o,"/END"),d=("".concat(o,"/FAILURE"),"".concat(o,"/SUCCESS")),p="".concat(n,"/SET_WALLET_ADDRESS"),m=("".concat(n,"/UNLOCK"),"".concat(n,"/RESET")),h="".concat(n,"/SET_NETWORK")},58:function(e,t,a){"use strict";var n=a(1),r=a.n(n),s=a(12),i=a(10),c=a(7),o=a.n(c),u=(a(47),a(102),"".concat("TRANSACTIONS","/FETCH_TRANSACTIONS_ETHEREUM")),l=("".concat(u,"/START"),"".concat(u,"/END"),"".concat(u,"/FAILURE"),"".concat(u,"/SUCCESS"),"".concat("TRANSACTIONS","/FETCH_TRANSACTIONS_ERC20")),d=("".concat(l,"/START"),"".concat(l,"/END"),"".concat(l,"/FAILURE"),"".concat(l,"/SUCCESS"),"".concat("TRANSACTIONS","/FETCH_TRANSACTIONS_THETA")),p=("".concat(d,"/START"),"".concat(d,"/END"),"".concat(d,"/FAILURE"),"".concat(d,"/SUCCESS"),"".concat("TRANSACTIONS","/CREATE_SEND_TRANSACTION")),m=("".concat(p,"/START"),"".concat(p,"/END"),"".concat(p,"/FAILURE"),"".concat(p,"/SUCCESS"),"".concat("TRANSACTIONS","/CREATE_DEPOSIT_STAKE_TRANSACTION")),h=("".concat(m,"/START"),"".concat(m,"/END"),"".concat(m,"/FAILURE"),"".concat(m,"/SUCCESS"),"".concat("TRANSACTIONS","/CREATE_WITHDRAW_STAKE_TRANSACTION")),f=("".concat(h,"/START"),"".concat(h,"/END"),"".concat(h,"/FAILURE"),"".concat(h,"/SUCCESS"),"".concat("TRANSACTIONS","/CREATE_SMART_CONTRACT_TRANSACTION")),v=("".concat(f,"/START"),"".concat(f,"/END"),"".concat(f,"/FAILURE"),"".concat(f,"/SUCCESS"),"".concat("TRANSACTIONS","/FETCH_TRANSACTION")),b=("".concat(v,"/START"),"".concat(v,"/END"),"".concat(v,"/FAILURE"),"".concat(v,"/SUCCESS"),"".concat("TRANSACTIONS","/RESET")),y=a(17),g=(a(26),a(325),a(18)),k=a(35),E=(a(31),a(49)),w=a(71),O=a(29),T=a(40),S=a(15);function C(){return function(e,t){var a=o.a.get(t(),"thetaWallet.selectedAddress");if(a)return y.e.controller.RPCApi.updateAccountTransactions({address:a})}}function j(e,t,a){return function(){var n=Object(s.a)(r.a.mark((function n(s,c){var u,l,d,p,m,h,f;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(Object(g.d)("Preparing transaction...")),n.next=3,Object(S.l)(1e3);case 3:return n.prev=3,u=y.e.getWalletAddress(),l=y.e.controller.provider,d=new i.transactions.SmartContractTransaction(a),n.next=9,l.getTransactionCount(u);case 9:return p=n.sent,p+=1,d.setSequence(p),n.next=14,l.callSmartContract(d);case 14:return m=n.sent,n.next=17,Object(S.l)(1e3);case 17:s(Object(g.a)()),s(N(d.toJson())),e===E.a.DEPLOY&&(h=o.a.get(m,["contract_address"]),f=btoa(t),w.a.push("/wallet/contract/interact?address=".concat(h,"&abi=").concat(f))),n.next=27;break;case 22:return n.prev=22,n.t0=n.catch(3),s(Object(g.a)()),k.a.showError(n.t0.message),n.abrupt("return",Promise.resolve(null));case 27:return n.prev=27,s(Object(g.a)()),n.finish(27);case 30:case"end":return n.stop()}}),n,null,[[3,22,27,30]])})));return function(e,t){return n.apply(this,arguments)}}()}function _(){return{type:b}}function N(e){return function(){var t=Object(s.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=y.e.controller.RPCApi.addTransactionRequest({transactionRequest:e}),a(Object(g.e)({type:O.a.CONFIRM_TRANSACTION,props:{closeable:!1}})),t.abrupt("return",n);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",!1);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}function A(e){return function(){var t=Object(s.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=y.e.controller.RPCApi.rejectTransactionRequest({transactionRequestId:e}),a(Object(g.b)()),t.abrupt("return",n);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",!1);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}function x(e,t){return function(){var a=Object(s.a)(r.a.mark((function a(n,s){var c,u,l,d,p,m;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=y.e.controller.transactionsController.pendingTransactionRequests.get(e),u=o.a.get(c,"request.dependencies",[]),l=u.length+1,0===u.length?n(Object(g.d)("Sending Transaction")):n(Object(g.d)("Sending Transaction (1 / ".concat(l,")"))),a.next=7,Object(S.l)(1500);case 7:if(y.e.verifyPassword(t)){a.next=12;break}return n(Object(g.a)()),k.a.showError("Wrong password. Your transaction could not be signed."),a.abrupt("return",!1);case 12:return a.next=14,y.e.controller.RPCApi.approveTransactionRequest({transactionRequestId:e,onDependencySent:function(){0===u.length?n(Object(g.d)("Sending Transaction")):n(Object(g.d)("Sending Transaction (".concat(l," / ").concat(l,")")))}});case 14:return d=a.sent,n(Object(g.c)()),window.location.href.includes("stakes")&&(p=o.a.get(s(),"thetaWallet.selectedAddress"),n(Object(T.h)(p))),n(Object(g.a)()),a.abrupt("return",d);case 21:return a.prev=21,a.t0=a.catch(0),n(Object(g.a)()),m=i.errors.humanizeErrorMessage(a.t0.message),k.a.showError(m),a.abrupt("return",!1);case 27:case"end":return a.stop()}}),a,null,[[0,21]])})));return function(e,t){return a.apply(this,arguments)}}()}a.d(t,"d",(function(){return C})),a.d(t,"b",(function(){return j})),a.d(t,"f",(function(){return _})),a.d(t,"c",(function(){return N})),a.d(t,"e",(function(){return A})),a.d(t,"a",(function(){return x}))},60:function(e,t,a){"use strict";var n={ETHEREUM:"ethereum",ERC20_THETA:"erc20",THETA:"theta",THETA_FUEL:"tfuel"};t.a=n},62:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return s}));var n=[{constant:!0,inputs:[{name:"user",type:"address"},{name:"token",type:"address"}],name:"tokenBalance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"users",type:"address[]"},{name:"tokens",type:"address[]"}],name:"balances",outputs:[{name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"}],r=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"version",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"},{name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!1,stateMutability:"nonpayable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_spender",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Approval",type:"event"}],s=[{inputs:[{internalType:"address",name:"superAdmin_",type:"address"},{internalType:"address",name:"admin_",type:"address"},{internalType:"address",name:"tdrop_",type:"address"},{internalType:"address",name:"tdropParams_",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"admin",type:"address"},{indexed:!1,internalType:"address",name:"newAdmin",type:"address"}],name:"AdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"delegator",type:"address"},{indexed:!0,internalType:"address",name:"fromDelegate",type:"address"},{indexed:!0,internalType:"address",name:"toDelegate",type:"address"}],name:"DelegateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"delegate",type:"address"},{indexed:!1,internalType:"uint256",name:"previousBalance",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newBalance",type:"uint256"}],name:"DelegateVotesChanged",type:"event"},{anonymous:!1,inputs:[],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"superAdmin",type:"address"},{indexed:!1,internalType:"address",name:"newSuperAdmin",type:"address"}],name:"SuperAdminChanged",type:"event"},{anonymous:!1,inputs:[],name:"Unpaused",type:"event"},{constant:!0,inputs:[],name:"DELEGATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"DOMAIN_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"admin",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint32",name:"",type:"uint32"}],name:"checkpoints",outputs:[{internalType:"uint32",name:"fromBlock",type:"uint32"},{internalType:"uint96",name:"votes",type:"uint96"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"delegatee",type:"address"}],name:"delegate",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"delegatee",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"delegateBySig",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"delegates",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"estimatedTDropOwnedBy",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"getCurrentVotes",outputs:[{internalType:"uint96",name:"",type:"uint96"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getPriorVotes",outputs:[{internalType:"uint96",name:"",type:"uint96"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"lastRewardMintHeight",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"numCheckpoints",outputs:[{internalType:"uint32",name:"",type:"uint32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"pause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"admin_",type:"address"}],name:"setAdmin",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"superAdmin_",type:"address"}],name:"setSuperAdmin",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"rawAmount",type:"uint256"}],name:"stake",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"superAdmin",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"tdrop",outputs:[{internalType:"contract ITDrop",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"tdropParams",outputs:[{internalType:"contract ITDropParams",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalShares",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"unpause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"rawShares",type:"uint256"}],name:"unstake",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"}]},63:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"e",(function(){return s})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return c}));var n="".concat("UI","/SHOW_LOADER"),r="".concat("UI","/HIDE_LOADER"),s="".concat("UI","/SHOW_MODAL"),i="".concat("UI","/HIDE_MODAL"),c="".concat("UI","/HIDE_MODALS")},646:function(e,t){},657:function(e,t){},658:function(e,t){},659:function(e,t,a){},660:function(e,t,a){},662:function(e,t,a){},663:function(e,t,a){},664:function(e,t,a){},665:function(e,t,a){},673:function(e,t,a){},674:function(e,t,a){},675:function(e,t,a){},676:function(e,t,a){},677:function(e,t,a){},71:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(3),r=a(4),s=function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,null,[{key:"setHistory",value:function(e){this._history=e}},{key:"push",value:function(e){return this._history.push(e)}}]),e}();s._history=null},712:function(e,t,a){},713:function(e,t,a){},714:function(e,t,a){},715:function(e,t,a){},716:function(e,t,a){},717:function(e,t,a){},718:function(e,t,a){},719:function(e,t,a){},720:function(e,t,a){},721:function(e,t,a){},722:function(e,t,a){},723:function(e,t,a){},724:function(e,t,a){},730:function(e,t,a){},731:function(e,t,a){},732:function(e,t,a){},733:function(e,t,a){},734:function(e,t,a){},735:function(e,t,a){},743:function(e,t,a){},744:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(91),i=a.n(s),c=(a(345),a(3)),o=a(4),u=a(8),l=a(6),d=a(9),p=a(751),m=a(752),h=a(750),f=a(336),v=a(32),b=a(28),y=a(319),g=a(320),k=a(92),E=a(50),w=a(15),O=a(80),T={thetaWallet:null,network:O.a.defaultThetaChainID,isFetchingBalances:!1,isFetchingEthereumBalances:!1,address:null,name:null,balances:[],balancesByType:{},balancesRefreshedAt:null,ethereumBalances:[],ethereumBalancesByType:{}},S=a(33),C=a(63),j={modals:[],isLoading:!1,loadingMessage:null},_="".concat("THETA_WALLET","/UPDATE_THETA_WALLET_STATE"),N={},A=Object(k.c)({wallet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.i:return Object.assign({},e,{network:t.network});case E.f:return Object.assign({},e,{isFetchingEthereumBalances:!0});case E.e:return Object.assign({},e,{isFetchingEthereumBalances:!1});case E.g:var a=t.response.body,n=a.balances;return Object.assign({},e,{ethereumBalances:n,ethereumBalancesByType:Object(w.s)(n.map((function(e){return e.type})),n.map((function(e){return e.value})))});case E.c:return Object.assign({},e,{isFetchingBalances:!0});case E.b:return Object.assign({},e,{isFetchingBalances:!1});case E.d:var r=t.response.body,s=r.balances;return Object.assign({},e,{balances:s,balancesByType:Object(w.s)(s.map((function(e){return e.type})),s.map((function(e){return e.value}))),balancesRefreshedAt:new Date});case E.j:return Object.assign({},e,{address:t.address});case E.h:return T;default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.e:var a=t.modal,n=a.type,r=a.props;return Object.assign({},e,{modals:[].concat(Object(b.a)(e.modals),[{type:n,props:r}])});case C.b:return Object.assign({},e,{modals:e.modals.slice(0,-1)});case C.c:return Object.assign({},e,{modals:[]});case C.d:return Object(S.a)({},e,{isLoading:!0,loadingMessage:t.message});case C.a:return Object(S.a)({},e,{isLoading:!1,loadingMessage:null});default:return e}},thetaWallet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object.assign({},e,t.data);default:return e}}}),x=a(7),I=a.n(x),P=(Object(g.createLogger)(),[y.a,!1].filter((function(e){return I.a.isFunction(e)}))),R=Object(k.d)(A,k.a.apply(void 0,Object(b.a)(P))),F=a(11),D=(a(454),a(455),a(17)),W=a(40),M=a(35),L=a(18),B=a(29),U=a(44),H=a(335),K=a(330),q=a(10),V=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).onClick=function(){e.props.dispatch(Object(L.e)({type:B.a.NETWORK_SELECTOR}))},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.selectedNetwork;return r.a.createElement("div",{className:"NetworkSelector",onClick:this.onClick},r.a.createElement("div",{className:"NetworkSelector__color",style:{backgroundColor:e.color}}),r.a.createElement("div",{className:"NetworkSelector__name"},e.name),r.a.createElement("div",{className:"NetworkSelector__arrow"},r.a.createElement(H.a,null)))}}]),t}(r.a.Component),G=Object(v.b)((function(e,t){var a=I.a.get(e,"thetaWallet.network.chainId",q.networks.ChainIds.Mainnet);return{selectedNetwork:Object(K.a)(a)||{chainId:a,name:a,color:"#000000"}}}))(V),z=a(52),Y=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).onNetworkBadgeClick=function(){D.e.getWalletAddress()?alert("You cannot change networks while a wallet is unlocked."):R.dispatch(Object(L.e)({type:B.a.NETWORK_SELECTOR}))},e.logout=e.logout.bind(Object(F.a)(e)),e.copyAddress=e.copyAddress.bind(Object(F.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"logout",value:function(){R.dispatch(Object(W.c)())}},{key:"copyAddress",value:function(){var e=D.e.getWalletAddress();Object(w.a)(e),M.a.showSuccess("Your address has been copied")}},{key:"renderAccountIfNeeded",value:function(){var e=D.e.getWalletAddress();return e?r.a.createElement("div",{className:"NavBar__account"},r.a.createElement("div",{className:"NavBar__wallet"},r.a.createElement("div",{className:"NavBar__wallet-title"},"My Wallet:"),r.a.createElement("div",{className:"NavBar__wallet-address"},e),r.a.createElement("a",{className:"NavBar__wallet-copy-address-icon",onClick:this.copyAddress},r.a.createElement("img",{src:"/img/icons/copy@2x.png"}))),r.a.createElement("a",{className:"NavBar__logout",onClick:this.logout},"Log out")):null}},{key:"render",value:function(){this.props.network;return r.a.createElement("div",{className:z("NavBar",{"NavBar--is-centered":this.props.centered})},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("img",{className:"NavBar__logo",src:"/img/logo/theta_wallet_logo@2x.png"}),!this.props.centered&&r.a.createElement(G,null)),this.renderAccountIfNeeded())}}]),t}(r.a.Component),J=Object(v.b)((function(e,t){return{network:e.wallet.network}}))(Y),X=a(16),Z=(a(659),a(52)),Q=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e,t=Z("TabBar",(e={},Object(X.a)(e,this.props.className,!0),Object(X.a)(e,"TabBar--is-centered",this.props.centered),Object(X.a)(e,"TabBar--is-condensed",this.props.condensed),e));return r.a.createElement("div",{className:t,style:this.props.style},this.props.children)}}]),t}(r.a.Component),$=(a(660),a(749)),ee=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.props.href?r.a.createElement($.a,{to:this.props.href,className:"TabBarItem",activeClassName:"TabBarItem--is-active",onClick:this.props.onClick},this.props.normalIconUrl&&r.a.createElement("img",{className:"TabBarItem__icon",alt:this.props.title,src:this.props.normalIconUrl}),this.props.activeIconUrl&&r.a.createElement("img",{className:"TabBarItem__icon-active",alt:this.props.title,src:this.props.activeIconUrl}),r.a.createElement("div",{className:"TabBarItem__title"},this.props.title)):r.a.createElement("a",{className:"TabBarItem",href:this.props.href,target:this.props.target,onClick:this.props.onClick},r.a.createElement("img",{className:"TabBarItem__icon",alt:this.props.title,src:this.props.normalIconUrl}),r.a.createElement("div",{className:"TabBarItem__title"},this.props.title))}}]),t}(r.a.Component),te=(a(662),a(663),a(664),a(665),a(155)),ae=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.token,a=e.balance||"-";return r.a.createElement($.a,{to:"/wallet/tokens/".concat(t.id),className:"Balance"},r.a.createElement("div",{className:"Balance__icon-wrapper"},t.iconUrl&&r.a.createElement("img",{src:t.iconUrl,className:"Balance__icon"}),I.a.isNil(t.iconUrl)&&r.a.createElement(te.a,{address:t.contractAddress,className:"Balance__icon"})),r.a.createElement("div",{className:"WalletTokenListItem__token-balance-container"},r.a.createElement("div",{className:"Balance__name"},t.symbol),r.a.createElement("div",{className:"Balance__amount"},a)))}}]),t}(r.a.Component),ne=a(26),re=a(156),se=a.n(re),ie=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).onAddTokenClick=function(){R.dispatch(Object(L.e)({type:B.a.TRACK_TOKEN}))},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.selectedAccount,a=(e.tokens,e.assets),n=e.balancesRefreshedAt;return r.a.createElement("div",{className:"WalletTokenList"},t&&t.balances&&a.map((function(e){var a=e.decimals,n=I.a.get(t.balances,[e.balanceKey],"0");return r.a.createElement(ae,{key:e.id,token:e,balance:Object(w.e)(n,a)})})),r.a.createElement("a",{className:"AddTokenCTA",onClick:this.onAddTokenClick},r.a.createElement("img",{className:"AddTokenCTA__icon",src:"/img/icons/add-token.svg"}),r.a.createElement("div",{className:"AddTokenCTA__name"},"Add Token")),t&&I.a.isEmpty(t.balances)&&r.a.createElement("div",{className:"WalletTokenList__refreshed-message"},"Loading balances..."),!I.a.isNil(n)&&r.a.createElement("div",{className:"WalletTokenList__refreshed-message"},"Balances refreshed ".concat(se()(n).fromNow())),t&&r.a.createElement("a",{className:"WalletTokenList__explorer-link",href:ne.a.getAccountExplorerUrl(t.address),target:"_blank",rel:"noopener noreferrer"},"View Account on Explorer"))}}]),t}(r.a.Component),ce=(a(673),a(52)),oe=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e,t=ce("PageHeader",(e={},Object(X.a)(e,this.props.className,!0),Object(X.a)(e,"PageHeader--is-sticky",this.props.sticky),e));return r.a.createElement("div",{className:t},this.props.title&&r.a.createElement("div",{className:"PageHeader__title"},this.props.title),this.props.children)}}]),t}(r.a.Component),ue=(a(674),a(675),a(676),a(52)),le=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.bound,a=e.isLocal,n="inbound"===t,s=null;s=n?"Received":a?"Sent - Processing":"Sent";var i=ue("TransactionStatus",{"TransactionStatus--is-inbound":n});return r.a.createElement("div",{className:i},r.a.createElement("div",{className:"TransactionStatus__dot"}),r.a.createElement("div",{className:"TransactionStatus__text"},s))}}]),t}(r.a.PureComponent),de=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.transaction,t=e.inputs,a=e.outputs,n=e.timestamp,s=e.bound,i=(e.hash,e.is_local),c=t?t[0]:null,o=a?a[0]:null,u=I.a.get(c,["address"]),l=I.a.get(o,["address"]),d="inbound"===s,p=ne.a.getTransactionExplorerUrl(e);u=Object(w.r)(u),l=Object(w.r)(l);var m=I.a.get(o,["coins","thetawei"]),h=I.a.get(o,["coins","tfuelwei"]);return r.a.createElement("a",{className:"ThetaTransactionListItem",href:p,target:"_blank"},r.a.createElement("div",{className:"ThetaTransactionListItem__left-container"},r.a.createElement("div",{className:"ThetaTransactionListItem__top-container"},r.a.createElement(le,{bound:s,isLocal:i})),r.a.createElement("div",{className:"ThetaTransactionListItem__middle-container"},r.a.createElement("div",{className:"ThetaTransactionListItem__address-container"},r.a.createElement("div",{className:"ThetaTransactionListItem__address-prefix"},d?"FROM:":"TO:"),r.a.createElement("div",{className:"ThetaTransactionListItem__address"},d?u:l))),r.a.createElement("div",{className:"ThetaTransactionListItem__bottom-container"},r.a.createElement("div",{className:"ThetaTransactionListItem__date"},se.a.unix(n).fromNow()))),r.a.createElement("div",{className:"ThetaTransactionListItem__right-container"},r.a.createElement("div",{className:"ThetaTransactionListItem__amount-container"},r.a.createElement("div",{className:"ThetaTransactionListItem__amount"},Object(w.d)(m)),r.a.createElement("img",{className:"ThetaTransactionListItem__amount-icon",src:"/img/tokens/theta_large@2x.png"})),r.a.createElement("div",{className:"ThetaTransactionListItem__amount-container"},r.a.createElement("div",{className:"ThetaTransactionListItem__amount"},Object(w.d)(h)),r.a.createElement("img",{className:"ThetaTransactionListItem__amount-icon",src:"/img/tokens/tfuel_large@2x.png"}))))}}]),t}(r.a.Component),pe=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"createList",value:function(){return this.props.transactions.map((function(e,t){return r.a.createElement(de,{key:e.hash,transaction:e})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"TransactionList"},this.createList())}}]),t}(r.a.Component),me=a(58),he=a(158),fe=a(60),ve=function(e){return e.transactions.localTransactionsByHash},be=function(e){return e.transactions.ethereumNetworkTransactionsByType},ye=function(e){return D.e.getWalletAddress()};function ge(e,t){var a=t.outputs;a=function(e,t){return I.a.sortBy(t,[function(t){return t.address===e?-1:0}])}(e,a);var n;return I.a.isNil(a)?null:(n=a[0].address,Object.assign({},t,{bound:e===n?"inbound":"outbound",outputs:a}))}function ke(e,t){return Object.assign({},t,{bound:e===t.to?"inbound":"outbound"})}function Ee(e,t,a,n){e=e?e.toLowerCase():null;var r=a[t],s=I.a.partial(ke,e),i=I()(r).sortBy((function(e){return parseInt(e.time_stamp)})).reverse().map(s).value(),c=new Set(I.a.map(i,(function(e){return e.hash}))),o=I.a.filter(Object.values(n),(function(e){return!c.has(e.hash)&&e.type===t})),u=I.a.flatten([o,i]);return I.a.uniqBy(u,"hash")}Object(he.a)([ye,be,ve],(function(e,t,a){return Ee(e,fe.a.ERC20_THETA,t,a)})),Object(he.a)([ye,be,ve],(function(e,t,a){return Ee(e,fe.a.ETHEREUM,t,a)})),Object(he.a)([ye,function(e){return e.transactions.transactions},ve],(function(e,t,a){return function(e,t,a){e=e?e.toLowerCase():null;var n=I.a.negate(I.a.isNil),r=I.a.partial(ge,e),s=I()(t).map(r).filter(n).sortBy((function(e){return parseInt(e.timestamp)})).reverse().value(),i=new Set(I.a.map(s,(function(e){return e.hash}))),c=I.a.filter(Object.values(a),(function(e){return!i.has(e.hash)})),o=I.a.flatten([c,s]);return I.a.uniqBy(o,"hash")}(e,t,a)})),a(677);var we=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"EmptyState"},this.props.icon&&r.a.createElement("img",{className:"EmptyState__icon",src:this.props.icon}),r.a.createElement("div",{className:"EmptyState__title"},this.props.title),r.a.createElement("div",{className:"EmptyState__subtitle"},this.props.subtitle))}}]),t}(r.a.PureComponent),Oe=a(42),Te=a.n(Oe),Se=(a(712),a(52)),Ce=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e,t=this.props.iconUrl&&r.a.createElement("img",{className:"GhostButton__icon",src:this.props.iconUrl}),a=null,s=Se("GhostButton",(e={},Object(X.a)(e,this.props.className,!0),Object(X.a)(e,"GhostButton--is-disabled",this.props.disabled),e));return a=this.props.loading?r.a.createElement(Te.a,{singleColor:"#ffffff",size:16,className:"GhostButton__spinner"}):r.a.createElement(n.Fragment,null,t,r.a.createElement("div",{className:"GhostButton__title"},this.props.title)),r.a.createElement("a",{className:s,href:this.props.href,target:this.props.target,onClick:!0===this.props.disabled?null:this.props.onClick,style:this.props.style},a)}}]),t}(r.a.Component),je=a(34),_e=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).pollWalletBalancesIntervalId=null,e.handleSendClick=e.handleSendClick.bind(Object(F.a)(e)),e.handleReceiveClick=e.handleReceiveClick.bind(Object(F.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"fetchTransactions",value:function(e){e!==fe.a.THETA&&e!==fe.a.THETA_FUEL||this.props.dispatch(Object(me.d)())}},{key:"fetchBalances",value:function(){}},{key:"startPollingWalletBalances",value:function(){}},{key:"stopPollingWalletBalances",value:function(){}},{key:"handleSendClick",value:function(){this.props.dispatch(Object(L.e)({type:B.a.CREATE_TRANSACTION,props:{transactionType:"send"}}))}},{key:"handleReceiveClick",value:function(){this.props.dispatch(Object(L.e)({type:B.a.RECEIVE}))}},{key:"componentDidMount",value:function(){var e=this.props.match.params.tokenType;this.fetchTransactions(e)}},{key:"componentWillUnmount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t=e.match.params.tokenType;this.props.match.params.tokenType!==t&&this.fetchTransactions(t)}},{key:"render",value:function(){var e=this.props,t=e.selectedAccount,a=e.assets,n=e.tokens,s=e.isFetchingBalances,i=e.balancesRefreshedAt,c=e.transactions,o=e.isLoadingTransactions;return r.a.createElement("div",{className:"WalletPage"},r.a.createElement("div",{className:"WalletPage__master-view"},s&&I.a.isEmpty(t)&&r.a.createElement(Te.a,{singleColor:"#ffffff",className:"WalletPage__master-view-spinner",size:20}),r.a.createElement(ie,{selectedAccount:t,tokens:n,assets:a,balancesRefreshedAt:i})),r.a.createElement("div",{className:"WalletPage__detail-view"},r.a.createElement(oe,{title:"Theta/Tfuel Transactions",sticky:!0},r.a.createElement("div",{className:"WalletPage__header-buttons"},r.a.createElement(Ce,{title:"Send",iconUrl:"/img/icons/send@2x.png",onClick:this.handleSendClick}),r.a.createElement(Ce,{title:"Receive",iconUrl:"/img/icons/receive@2x.png",style:{marginLeft:12},onClick:this.handleReceiveClick}))),o&&r.a.createElement(Te.a,{singleColor:"#ffffff",className:"WalletPage__detail-view-spinner"}),r.a.createElement("a",{href:ne.a.getAccountExplorerUrl(t.address),target:"_blank",style:{marginTop:12,marginBottom:12}},"View all transactions on explorer"),c.length>0&&r.a.createElement(pe,{transactions:c}),0===c.length&&!1===o&&r.a.createElement(we,{icon:"/img/icons/empty-transactions@2x.png",title:"No Transactions"})))}}]),t}(r.a.Component),Ne=Object(v.b)((function(e,t){var a,n=e.thetaWallet,r=n.selectedAddress,s=n.identities,i=n.accounts,c=n.tokens,o=null===(a=n.network)||void 0===a?void 0:a.chainId,u=I.a.get(n,["transactions",r],[]);return{selectedAddress:r,selectedIdentity:s[r],selectedAccount:i[r],tokens:c,assets:Object(je.d)(o,c),transactions:u}}))(_e),Ae=(a(713),a(714),a(201)),xe=a(52),Ie=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e,t=null,a=xe("GradientButton",(e={},Object(X.a)(e,this.props.className,!0),Object(X.a)(e,"GradientButton--is-disabled",this.props.disabled),e));return t=this.props.loading?r.a.createElement(Te.a,{singleColor:"#ffffff"}):r.a.createElement("div",{className:"GradientButton__title"},this.props.title),this.props.href?r.a.createElement(Ae.a,{to:this.props.href,style:this.props.style,className:a,onClick:this.props.onClick},t):r.a.createElement("a",{className:a,style:this.props.style,onClick:!0===this.props.disabled?null:this.props.onClick},t)}}]),t}(r.a.Component),Pe=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).defaultState={currentPassword:"",password:"",passwordConfirmation:"",loading:!1,error:null},e.state=e.defaultState,e.handleChange=e.handleChange.bind(Object(F.a)(e)),e.prepareForExport=e.prepareForExport.bind(Object(F.a)(e)),e.exportKeystore=e.exportKeystore.bind(Object(F.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"validate",value:function(){this.state.password.length>0&&this.state.passwordConfirmation.length>0&&this.state.password!==this.state.passwordConfirmation?this.setState({error:"Your passwords do not match"}):this.setState({error:""})}},{key:"isValid",value:function(){return this.state.password.length>0&&this.state.passwordConfirmation.length>0&&this.state.password===this.state.passwordConfirmation}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(X.a)({},t,a),this.validate)}},{key:"exportKeystore",value:function(){try{var e=D.e.exportKeystore(this.state.currentPassword,this.state.password);Object(w.b)(e.address+".keystore",JSON.stringify(e)),this.setState(this.defaultState)}catch(t){this.setState({loading:!1}),M.a.showError(t.message)}}},{key:"prepareForExport",value:function(){this.setState({loading:!0}),setTimeout(this.exportKeystore,1e3)}},{key:"render",value:function(){return r.a.createElement("div",{className:"ExportKeystoreContent"},r.a.createElement("div",{className:"InputTitle"},"Current Password"),r.a.createElement("input",{className:"RoundedInput",placeholder:"Enter current password",name:"currentPassword",type:"password",value:this.state.currentPassword,onChange:this.handleChange}),r.a.createElement("div",{className:"InputTitle"},"New Password"),r.a.createElement("input",{className:"RoundedInput",placeholder:"Set a New Password",name:"password",type:"password",value:this.state.password,onChange:this.handleChange}),r.a.createElement("div",{className:"InputTitle"},"Confirm New Password"),r.a.createElement("input",{className:"RoundedInput",placeholder:"Re-enter Password",name:"passwordConfirmation",type:"password",value:this.state.passwordConfirmation,onChange:this.handleChange}),r.a.createElement("div",{className:"InputError"},this.state.error),r.a.createElement(Ie,{title:"Export Keystore",onClick:this.prepareForExport,style:{marginTop:15},loading:this.state.loading,disabled:this.state.loading||!1===this.isValid()}))}}]),t}(r.a.Component),Re=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"SettingsSection"},r.a.createElement("div",{className:"SettingsSection__title"},this.props.title),r.a.createElement("div",{className:"SettingsSection__content"},this.props.children))}}]),t}(r.a.Component),Fe=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=I.a.isNil(D.e.getWallet().hardware);return r.a.createElement("div",{className:"SettingsPage"},r.a.createElement("div",{className:"SettingsPage__detail-view"},r.a.createElement(oe,{title:"Settings",sticky:!0}),e&&r.a.createElement(Re,{title:"Export Keystore"},r.a.createElement(Pe,null))))}}]),t}(r.a.Component),De=(a(715),[{title:"How to swap from ERC20 Theta to Mainnet Theta",description:"This wallet functions as a Theta ERC20 wallet today. When Mainnet launches in March 2019, the wallet will automatically switch to work as a THETA Mainnet wallet."},{title:"Create a Wallet and transfer ERC20 Theta In",description:"Create your wallet and transfer your ERC20 Theta in. You can now use this wallet as a fully functional ERC20 Theta wallet."},{title:"After launch, use the wallet to transact on Mainnet",description:"Once the snapshot is taken of ERC20 Theta and the mainnet is launched, the wallet will have the same balance, but all transactions will be on the Mainnet. No action is needed from you for this swap."}]),We=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=parseInt(this.props.match.params.onboardingStep),t="/img/onboarding/"+e+"@2x.png",a=De[e],n=a.title,s=a.description,i=null;return i=e===De.length-1?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie,{title:"Create Wallet",href:"/create-wallet"}),r.a.createElement(Ae.a,{to:"/restore-wallet",className:"OnboardingPage__restore-button"},"Restore Wallet")):r.a.createElement(Ie,{title:"Next",href:"/onboarding/"+(e+1)}),r.a.createElement("div",{className:"OnboardingPage"},r.a.createElement("div",{className:"OnboardingPage__wrapper"},r.a.createElement("div",{className:"OnboardingPage__title"},n),r.a.createElement("img",{src:t,className:"OnboardingPage__image"}),r.a.createElement("div",{className:"OnboardingPage__description"},s),r.a.createElement("div",{className:"OnboardingPage__footer"},i)))}}]),t}(r.a.Component),Me=(a(716),a(127)),Le=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"WalletCreationCompleteCard"},r.a.createElement("div",{className:"WalletCreationCompleteCard__content"},r.a.createElement("div",{className:"WalletCreationCompleteCard__header"}),r.a.createElement("div",{className:"WalletCreationCompleteCard__success"},r.a.createElement("img",{className:"WalletCreationCompleteCard__icon",src:"/img/icons/wallet-success@2x.png"}),r.a.createElement("div",{className:"WalletCreationCompleteCard__success-title"},"You're ready!"),r.a.createElement("div",{className:"WalletCreationCompleteCard__success-body"},"You are now ready to use your new Theta wallet.")),r.a.createElement("div",{className:"WalletCreationCompleteCard__footer"},r.a.createElement(Ie,{title:"Unlock Wallet",href:"/unlock"}))))}}]),t}(r.a.Component),Be=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).showPrivateKey=e.showPrivateKey.bind(Object(F.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"showPrivateKey",value:function(){R.dispatch(Object(L.e)({type:B.a.PRIVATE_KEY,props:{privateKey:this.props.wallet.privateKey}}))}},{key:"render",value:function(){var e=this.props.wallet,t=e.mnemonic,a=(e.privateKey,t.phrase);return r.a.createElement("div",{className:"MnemonicCard"},r.a.createElement("div",{className:"MnemonicCard__content"},r.a.createElement("div",{className:"MnemonicCard__header"},r.a.createElement("div",{className:"MnemonicCard__title"},"Mnemonic Phrase"),r.a.createElement("div",{className:"MnemonicWarningCard__subtitle"},"12 words which allow you to recover your wallet.")),r.a.createElement("div",{className:"MnemonicCard__body"},r.a.createElement("div",{className:"MnemonicCard__instructions"},"Back up the text below on paper and keep it somewhere secret and safe. It will not be shown again."),r.a.createElement("div",{className:"MnemonicCard__phrase-container"},r.a.createElement("p",null,a)),r.a.createElement("a",{className:"MnemonicCard__view-private-key",onClick:this.showPrivateKey},"View my Private Key")),r.a.createElement("div",{className:"MnemonicCard__footer"},r.a.createElement(Ie,{title:"Continue",onClick:this.props.onContinue}))))}}]),t}(r.a.Component),Ue=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"MnemonicWarningCard"},r.a.createElement("div",{className:"MnemonicWarningCard__content"},r.a.createElement("div",{className:"MnemonicWarningCard__header"},r.a.createElement("div",{className:"MnemonicWarningCard__title"},"Mnemonic Phrase"),r.a.createElement("div",{className:"MnemonicWarningCard__subtitle"},"12 words which allow you to recover your wallet.")),r.a.createElement("img",{className:"MnemonicWarningCard__icon",src:"/img/icons/word-blocks@2x.png"}),r.a.createElement("div",{className:"MnemonicWarningCard__warning"},r.a.createElement("div",{className:"MnemonicWarningCard__warning-title"},"Warning!"),r.a.createElement("div",{className:"MnemonicWarningCard__warning-body"},"We are about to show your Mnemonic phrase. Please ensure no one can see your screen before you continue.")),r.a.createElement("div",{className:"MnemonicWarningCard__footer"},r.a.createElement(Ie,{title:"Continue",onClick:this.props.onContinue}))))}}]),t}(r.a.Component),He=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).state={password:"",passwordConfirmation:"",agreedToTerms:!1},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a="password"===e.target.type?e.target.value:e.target.checked;this.setState(Object(X.a)({},t,a),this.validate)}},{key:"createWallet",value:function(){var e=this,t=D.e.createWallet(this.state.password);t&&(Me.a.setWalletData(t),Object(w.b)(t.wallet.address+".keystore",JSON.stringify(t.keystore)),setTimeout((function(){e.setState({loading:!1}),e.props.onContinue()}),500))}},{key:"prepareForWalletCreation",value:function(){var e=this;this.setState({loading:!0}),setTimeout((function(){e.createWallet()}),1e3)}},{key:"isValid",value:function(){return!0===this.state.agreedToTerms&&this.state.password.length>0&&this.state.password===this.state.passwordConfirmation}},{key:"validate",value:function(){this.state.password.length>0&&this.state.passwordConfirmation.length>0&&this.state.password!==this.state.passwordConfirmation?this.setState({error:"Your passwords do not match"}):this.setState({error:""})}},{key:"render",value:function(){return r.a.createElement("div",{className:"ChoosePasswordCard"},r.a.createElement("div",{className:"ChoosePasswordCard__content"},r.a.createElement("div",{className:"ChoosePasswordCard__header"},r.a.createElement("div",{className:"ChoosePasswordCard__title"},"Create Keystore"),r.a.createElement("div",{className:"ChoosePasswordCard__subtitle"},"This password will encrypt your private key.")),r.a.createElement("div",{className:"ChoosePasswordCard__inputs"},r.a.createElement("input",{className:"ChoosePasswordCard__password-input",placeholder:"Set a New Password",name:"password",type:"password",value:this.state.password,onChange:this.handleChange.bind(this)}),r.a.createElement("input",{className:"ChoosePasswordCard__password-input",placeholder:"Re-enter Password",name:"passwordConfirmation",type:"password",value:this.state.passwordConfirmation,onChange:this.handleChange.bind(this)})),r.a.createElement("div",{className:"ChoosePasswordCard__error"},this.state.error),r.a.createElement("div",{className:"ChoosePasswordCard__message-wrapper"},r.a.createElement("input",{id:"agreedToTerms",type:"checkbox",name:"agreedToTerms",checked:this.state.agreedToTerms,onChange:this.handleChange.bind(this)}),r.a.createElement("label",{className:"ChoosePasswordCard__message",htmlFor:"agreedToTerms"},r.a.createElement("span",null,"I understand that Theta cannot recover or reset my password or the keystore file. I will make a backup of the keystore file / password, keep them secret, complete all wallet creation steps."))),r.a.createElement("div",{className:"ChoosePasswordCard__footer"},r.a.createElement(Ie,{title:"Download Keystore",onClick:this.prepareForWalletCreation.bind(this),loading:this.state.loading,disabled:this.state.loading||!1===this.isValid()}))))}}]),t}(r.a.Component),Ke=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).state={currentStep:0},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"continue",value:function(){this.setState({currentStep:this.state.currentStep+1})}},{key:"render",value:function(){var e=Me.a.getWalletData(),t=null,a=null,n=3===this.state.currentStep?"":"Create New Wallet";return 0===this.state.currentStep?t=r.a.createElement(He,{onContinue:this.continue.bind(this)}):1===this.state.currentStep?t=r.a.createElement(Ue,{onContinue:this.continue.bind(this)}):2===this.state.currentStep?t=r.a.createElement(Be,{onContinue:this.continue.bind(this),wallet:e.wallet}):3===this.state.currentStep&&(t=r.a.createElement(Le,{onContinue:this.continue.bind(this)})),3!==this.state.currentStep&&(a=r.a.createElement("div",{className:"CreateWalletPage__subtitle"},r.a.createElement("span",null,"Already have a wallet?"),r.a.createElement(Ae.a,{to:"/unlock"},"Unlock Wallet"))),r.a.createElement("div",{className:"CreateWalletPage"},r.a.createElement("div",{className:"CreateWalletPage__wrapper"},r.a.createElement("div",{className:"CreateWalletPage__title"},n),t,a))}}]),t}(r.a.Component),qe=a(1),Ve=a.n(qe),Ge=a(12),ze=(a(717),a(718),a(52)),Ye=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e,t=this.props.iconUrl&&r.a.createElement("img",{className:"HardwareOptionButton__icon",src:this.props.iconUrl}),a=ze("HardwareOptionButton",(e={},Object(X.a)(e,this.props.className,!0),Object(X.a)(e,"HardwareOptionButton--is-selected",this.props.isSelected),Object(X.a)(e,"HardwareOptionButton--is-disabled",this.props.disabled),e));return r.a.createElement("a",{className:a,href:this.props.href,target:this.props.target,onClick:this.props.onClick,style:this.props.style},t,r.a.createElement("div",{className:"HardwareOptionButton__title"},this.props.title))}}]),t}(r.a.Component),Je=(a(719),a(52)),Xe=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).state={active:!1},e.handleDragOver=e.handleDragOver.bind(Object(F.a)(e)),e.handleDragEnter=e.handleDragEnter.bind(Object(F.a)(e)),e.handleDragLeave=e.handleDragLeave.bind(Object(F.a)(e)),e.handleDrop=e.handleDrop.bind(Object(F.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleDragOver",value:function(e){e.preventDefault(),this.setState({active:!0})}},{key:"handleDragEnter",value:function(e){e.preventDefault(),this.setState({active:!0})}},{key:"handleDragLeave",value:function(e){e.preventDefault(),this.setState({active:!1})}},{key:"handleDrop",value:function(e){e.preventDefault();var t=e.dataTransfer.files;t.length>0&&this.props.onDrop(t[0]),this.setState({active:!1})}},{key:"componentDidMount",value:function(){window.addEventListener("dragenter",this.handleDragEnter),window.addEventListener("dragleave",this.handleDragLeave),window.addEventListener("dragover",this.handleDragOver),window.addEventListener("drop",this.handleDrop)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragenter",this.handleDragEnter),window.removeEventListener("dragleave",this.handleDragLeave),window.removeEventListener("dragover",this.handleDragOver),window.removeEventListener("drop",this.handleDrop)}},{key:"render",value:function(){var e=Je("DropZone",{"DropZone--is-active":this.state.active});return r.a.createElement("div",{className:e},this.props.icon&&r.a.createElement("img",{className:"DropZone__icon",src:this.props.icon}),r.a.createElement("div",{className:"DropZone__title"},this.props.title))}}]),t}(r.a.PureComponent),Ze=a(52),Qe=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).state={privateKey:"",password:"",loading:!1},e.handleKeyPress=e.handleKeyPress.bind(Object(F.a)(e)),e.handleChange=e.handleChange.bind(Object(F.a)(e)),e.handleUnlockClick=e.handleUnlockClick.bind(Object(F.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"isValid",value:function(){return this.state.privateKey.length>0&&this.state.password.length>0}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(X.a)({},t,a))}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.handleUnlockClick()}},{key:"unlockWallet",value:function(){this.props.unlockWallet(D.d.PRIVATE_KEY,this.state.password,{privateKey:this.state.privateKey}),this.setState({loading:!1})}},{key:"prepareForUnlock",value:function(){var e=this;this.setState({loading:!0}),setTimeout((function(){e.unlockWallet()}),1500)}},{key:"handleUnlockClick",value:function(){this.isValid()&&this.prepareForUnlock()}},{key:"render",value:function(){var e=this.state.loading||!1===this.isValid();return r.a.createElement("div",{className:"UnlockWalletViaPrivateKey"},r.a.createElement("div",{className:"UnlockWalletViaPrivateKey__title"},"Please enter your private key"),r.a.createElement("textarea",{className:"UnlockWalletViaPrivateKey__private-key",name:"privateKey",value:this.state.privateKey,onChange:this.handleChange}),r.a.createElement("div",{className:"UnlockWalletViaPrivateKey__private-key-instructions"},"Please enter your private key in HEX format."),r.a.createElement("input",{className:"UnlockWalletViaPrivateKey__password-input",placeholder:"Enter temporary session password",name:"password",type:"password",value:this.state.password,ref:this.passwordInput,onChange:this.handleChange,onKeyPress:this.handleKeyPress}),r.a.createElement("div",{className:"UnlockWalletCard__warning"},"Before you enter your private key, we recommend you disconnect your device from the internet. You will be able to reconnect once your wallet is unlocked."),r.a.createElement("div",{className:"UnlockWalletViaPrivateKey__footer"},r.a.createElement(Ie,{title:"Unlock Wallet",loading:this.state.loading,onClick:this.handleUnlockClick,disabled:e})))}}]),t}(r.a.Component),$e=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).state={mnemonic:"",password:"",loading:!1},e.handleKeyPress=e.handleKeyPress.bind(Object(F.a)(e)),e.handleChange=e.handleChange.bind(Object(F.a)(e)),e.handleUnlockClick=e.handleUnlockClick.bind(Object(F.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"isValid",value:function(){return this.state.mnemonic.length>0&&this.state.password.length>0}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(X.a)({},t,a))}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.handleUnlockClick()}},{key:"unlockWallet",value:function(){this.props.unlockWallet(D.d.MNEMONIC_PHRASE,this.state.password,{mnemonic:this.state.mnemonic}),this.setState({loading:!1})}},{key:"prepareForUnlock",value:function(){var e=this;this.setState({loading:!0}),setTimeout((function(){e.unlockWallet()}),1500)}},{key:"handleUnlockClick",value:function(){this.isValid()&&this.prepareForUnlock()}},{key:"render",value:function(){var e=this.state.loading||!1===this.isValid();return r.a.createElement("div",{className:"UnlockWalletViaMnemonicPhrase"},r.a.createElement("div",{className:"UnlockWalletViaMnemonicPhrase__title"},"Please enter your 12 word phrase"),r.a.createElement("textarea",{className:"UnlockWalletViaMnemonicPhrase__mnemonic",name:"mnemonic",value:this.state.mnemonic,onChange:this.handleChange}),r.a.createElement("div",{className:"UnlockWalletViaMnemonicPhrase__mnemonic-instructions"},"Please separate each Mnemonic Phrase with a space."),r.a.createElement("input",{className:"UnlockWalletViaMnemonicPhrase__password-input",placeholder:"Enter temporary session password",name:"password",type:"password",value:this.state.password,ref:this.passwordInput,onChange:this.handleChange,onKeyPress:this.handleKeyPress}),r.a.createElement("div",{className:"UnlockWalletCard__warning"},"Before you enter your mnemonic phrase, we recommend you disconnect your device from the internet. You will be able to reconnect once your wallet is unlocked."),r.a.createElement("div",{className:"UnlockWalletViaMnemonicPhrase__footer"},r.a.createElement(Ie,{title:"Unlock Wallet",loading:this.state.loading,onClick:this.handleUnlockClick,disabled:e})))}}]),t}(r.a.Component),et=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).fileInput=r.a.createRef(),e.passwordInput=r.a.createRef(),e.droppedFile=null,e.state={password:"",loading:!1},e.handleKeyPress=e.handleKeyPress.bind(Object(F.a)(e)),e.handleChange=e.handleChange.bind(Object(F.a)(e)),e.handleUnlockClick=e.handleUnlockClick.bind(Object(F.a)(e)),e.handleKeystoreFileDrop=e.handleKeystoreFileDrop.bind(Object(F.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"isValid",value:function(){return null!==this.keystoreFile()&&this.state.password.length>0}},{key:"keystoreFile",value:function(){var e=this.fileInput.current,t=e&&e.files.length>0?e.files[0]:null;return this.droppedFile?this.droppedFile:t}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(X.a)({},t,a)),"file"===t&&(this.droppedFile=null,this.passwordInput.current.focus())}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.handleUnlockClick()}},{key:"handleKeystoreFileDrop",value:function(e){var t=this;this.droppedFile=e,this.setState({droppedFile:!0},(function(){t.passwordInput.current.focus()}))}},{key:"unlockWallet",value:function(e){this.props.unlockWallet(D.d.KEYSTORE_FILE,this.state.password,{keystore:e}),this.setState({loading:!1})}},{key:"onKeystoreFileLoad",value:function(e){var t=this,a=e.target.result;setTimeout((function(){t.unlockWallet(a)}),1500)}},{key:"prepareForUnlock",value:function(){var e=this.keystoreFile(),t=new FileReader;this.setState({loading:!0}),t.onload=this.onKeystoreFileLoad.bind(this),t.readAsText(e,"UTF-8")}},{key:"handleUnlockClick",value:function(){this.isValid()&&this.prepareForUnlock()}},{key:"render",value:function(){var e=this.keystoreFile(),t=Ze("UnlockWalletViaKeystoreFile__file-input",{"UnlockWalletViaKeystoreFile__file-input--has-file":null!==e}),a=this.state.loading||!1===this.isValid();return r.a.createElement("div",{className:"UnlockWalletViaKeystoreFile"},r.a.createElement(Xe,{title:"Drop keystore here",icon:"/img/icons/theta-file@2x.png",onDrop:this.handleKeystoreFileDrop}),r.a.createElement("div",{className:"UnlockWalletViaKeystoreFile__title"},"Please select your keystore file"),r.a.createElement("label",{htmlFor:"file-upload",className:t},r.a.createElement("input",{id:"file-upload",type:"file",name:"file",ref:this.fileInput,onChange:this.handleChange}),null===e?"Choose Keystore File":"Keystore File Set"),r.a.createElement("input",{className:"UnlockWalletViaKeystoreFile__password-input",placeholder:"Enter your wallet password",name:"password",type:"password",value:this.state.password,ref:this.passwordInput,onChange:this.handleChange,onKeyPress:this.handleKeyPress}),r.a.createElement("div",{className:"UnlockWalletViaKeystoreFile__footer"},r.a.createElement(Ie,{title:"Unlock Wallet",loading:this.state.loading,onClick:this.handleUnlockClick,disabled:a})))}}]),t}(r.a.Component),tt=function(e){var t=e.hardwareAccounts,a=e.accounts,n=e.onClick;return r.a.createElement("div",null,I.a.map(t,(function(e){var t=e.address;return function(e,t){return r.a.createElement("a",{className:"HardwareDeviceAccountRow",key:e.address,onClick:function(){n(e)}},r.a.createElement("div",{className:"HardwareDeviceAccountRow__address"},Object(w.r)(e.address)),r.a.createElement("div",{className:"HardwareDeviceAccountRow__balances"},!I.a.isEmpty(t)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"HardwareDeviceAccountRow__balance"},r.a.createElement("span",null,Object(w.d)(null===t||void 0===t?void 0:t.thetawei)),r.a.createElement("img",{src:"/img/tokens/theta_large@2x.png"})),r.a.createElement("div",{className:"HardwareDeviceAccountRow__balance"},r.a.createElement("span",null,Object(w.d)(null===t||void 0===t?void 0:t.tfuelwei)),r.a.createElement("img",{src:"/img/tokens/tfuel_large@2x.png"}))),I.a.isEmpty(t)&&r.a.createElement(Te.a,{singleColor:"#ffffff",size:16})))}(e,I.a.get(a,t,{}).balances)})))},at=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).connectHardware=function(){var t=Object(Ge.a)(Ve.a.mark((function t(a,n,r){var s;return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.prev=1,t.next=4,e.props.dispatch(Object(W.b)(a,n,r));case 4:s=t.sent,e.setState({hardwareAccounts:s}),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(1);case 10:return t.prev=10,setTimeout((function(){e.setState({loading:!1})}),1e3),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[1,8,10,13]])})));return function(e,a,n){return t.apply(this,arguments)}}(),e.goToNextPage=function(){var t=e.state,a=t.hardware,n=t.derivationPath;e.connectHardware(a,1,n)},e.goToPrevPage=function(){var t=e.state,a=t.hardware,n=t.derivationPath;e.connectHardware(a,-1,n)},e.onChooseHardwareAccount=function(t){var a=e.state,n=a.hardware,r=a.derivationPath,s=null;"trezor"===n?s=r+t.index:"ledger"===n&&(s=t.serializedPath),e.props.dispatch(Object(W.e)(t.index,t.address,n,s))},e.state={hardware:"",loading:!1,hardwareAccounts:[],derivationPath:D.a},e.handleChange=e.handleChange.bind(Object(F.a)(e)),e.handleChooseHardwareClick=e.handleChooseHardwareClick.bind(Object(F.a)(e)),e.handleTrezorClick=e.handleTrezorClick.bind(Object(F.a)(e)),e.handleLedgerClick=e.handleLedgerClick.bind(Object(F.a)(e)),e.handleDerivationPathChange=e.handleDerivationPathChange.bind(Object(F.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"shouldComponentUpdate",value:function(e,t,a){return!0}},{key:"isValid",value:function(){return this.state.hardware.length>0}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(X.a)({},t,a))}},{key:"handleChooseHardwareClick",value:function(){var e=this;this.isValid()&&(this.setState({loading:!0}),setTimeout((function(){e.connectHardware(e.state.hardware,0,e.state.derivationPath)}),1e3))}},{key:"handleTrezorClick",value:function(){this.setState({hardware:"trezor"})}},{key:"handleLedgerClick",value:function(){this.setState({hardware:"ledger"})}},{key:"handleDerivationPathChange",value:function(e){this.setState({derivationPath:e.target.value})}},{key:"render",value:function(){var e=this.props.accounts,t=this.state,a=t.hardwareAccounts,n=(t.page,this.state.loading||!1===this.isValid()),s="";return"trezor"===this.state.hardware?s="Please make sure your Trezor is connected before clicking 'Continue' below.":"ledger"===this.state.hardware&&(s="Please make sure your Ledger is connected with the Ethereum app open before clicking 'Continue' below."),a.length>0?r.a.createElement("div",{className:"UnlockWalletViaColdWallet"},r.a.createElement("div",{className:"UnlockWalletViaColdWallet__title"},"Choose account"),r.a.createElement(tt,{hardwareAccounts:a.slice(),accounts:Object.assign({},e),onClick:this.onChooseHardwareAccount}),r.a.createElement("div",{className:"UnlockWalletViaColdWallet__footer"},r.a.createElement("a",{onClick:this.goToPrevPage},"< Prev"),r.a.createElement("div",{style:{flex:1}}),r.a.createElement("a",{onClick:this.goToNextPage},"Next >"))):r.a.createElement("div",{className:"UnlockWalletViaColdWallet"},r.a.createElement("div",{className:"UnlockWalletViaColdWallet__title"},"Choose hardware"),r.a.createElement("div",{className:"UnlockWalletViaColdWallet__cold-wallet-hardware-select"},r.a.createElement(Ye,{title:"Trezor",iconUrl:"trezor"===this.state.hardware?"/img/icons/checkmark-green@2x.png":null,isSelected:"trezor"===this.state.hardware,onClick:this.handleTrezorClick}),r.a.createElement(Ye,{title:"Ledger",iconUrl:"ledger"===this.state.hardware?"/img/icons/checkmark-green@2x.png":null,isSelected:"ledger"===this.state.hardware,onClick:this.handleLedgerClick})),r.a.createElement("div",{className:"UnlockWalletCard__warning"},s),r.a.createElement("div",{className:"UnlockColdWalletLedger__choose-derivation-path"},"ledger"===this.state.hardware&&r.a.createElement("select",{value:this.state.derivationPath,onChange:this.handleDerivationPathChange,className:"UnlockColdWalletLedger__select"},r.a.createElement("option",{value:D.a},"Ethereum - m/44'/60'/0'/0"),r.a.createElement("option",{value:D.c},"Ethereum - m/44'/60'/0'"),r.a.createElement("option",{value:D.b},"Ethereum - Ledger Live - m/44'/60'"))),r.a.createElement("div",{className:"UnlockWalletViaColdWallet__footer"},r.a.createElement(Ie,{title:"Connect",loading:this.state.loading,onClick:this.handleChooseHardwareClick,disabled:n})))}}]),t}(r.a.Component),nt=Object(v.b)((function(e){return{accounts:e.thetaWallet.accounts}}))(at),rt=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=null;return this.props.unlockStrategy===D.d.KEYSTORE_FILE?e=r.a.createElement(et,{unlockWallet:this.props.unlockWallet}):this.props.unlockStrategy===D.d.MNEMONIC_PHRASE?e=r.a.createElement($e,{unlockWallet:this.props.unlockWallet}):this.props.unlockStrategy===D.d.PRIVATE_KEY?e=r.a.createElement(Qe,{unlockWallet:this.props.unlockWallet}):this.props.unlockStrategy===D.d.COLD_WALLET&&(e=r.a.createElement(nt,null)),r.a.createElement("div",{className:"UnlockWalletCard"},r.a.createElement("div",{className:"UnlockWalletCard__content"},r.a.createElement("div",{className:"UnlockWalletCard__header"},r.a.createElement(Q,{centered:!0,condensed:!0,className:"UnlockWalletCard__tab-bar"},r.a.createElement(ee,{title:"Keystore",href:"/unlock/"+D.d.KEYSTORE_FILE}),r.a.createElement(ee,{title:"Mnemonic",href:"/unlock/"+D.d.MNEMONIC_PHRASE}),r.a.createElement(ee,{title:"Private Key",href:"/unlock/"+D.d.PRIVATE_KEY}),r.a.createElement(ee,{title:"Hardware",href:"/unlock/"+D.d.COLD_WALLET}))),e))}}]),t}(r.a.Component),st=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).unlockWallet=function(t,a,n){e.props.dispatch(Object(W.f)(t,a,n))},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=D.e.getWalletAddress();I.a.isNil(e)||window.location.reload()}},{key:"render",value:function(){var e=this.props.match.params.unlockStrategy;return r.a.createElement("div",{className:"UnlockWalletPage"},r.a.createElement("div",{className:"UnlockWalletPage__wrapper"},r.a.createElement("div",{className:"UnlockWalletPage__title"},"Unlock Your Wallet"),r.a.createElement(rt,{unlockStrategy:e,unlockWallet:this.unlockWallet}),r.a.createElement("div",{className:"UnlockWalletPage__subtitle"},r.a.createElement("span",null,"Don't have a wallet?"),r.a.createElement(Ae.a,{to:"/create"},"Create Wallet"))))}}]),t}(r.a.Component),it=Object(v.b)((function(e){return{}}))(st),ct=(a(720),a(47)),ot=(a(102),"".concat("STAKES","/FETCH_STAKES"));"".concat(ot,"/START"),"".concat(ot,"/END"),"".concat(ot,"/FAILURE"),"".concat(ot,"/SUCCESS"),"".concat("STAKES","/RESET");a(721);var ut=a(14),lt=a.n(ut),dt=new ut.BigNumber(10).pow(18);function pt(e){return"vcp"===e||"gcp"===e?"/img/tokens/theta_large@2x.png":"eenp"===e?"/img/tokens/tfuel_large@2x.png":void 0}var mt=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e,t=this.props.stake,a=t.holder,n=t.amount,s=t.withdrawn,i=t.return_height,c=t.type,o=new ut.BigNumber(n).dividedBy(dt);return r.a.createElement("tr",{className:"StakesTableRow"},r.a.createElement("td",null,"vcp"===(e=c)?"Validator":"gcp"===e?"Guardian":"eenp"===e?"Elite Edge":void 0),r.a.createElement("td",null,a),r.a.createElement("td",null,r.a.createElement("div",{className:"StakesTableRow__token-wrapper"},r.a.createElement("img",{className:"StakesTableRow__token-img",src:pt(c)}),r.a.createElement("div",null,Object(w.j)(o.toString())))),r.a.createElement("td",null,s?"Yes":"No"),r.a.createElement("td",null,s?i:"--"))}}]),t}(r.a.Component),ht=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"createRows",value:function(){this.props.stakes;return this.props.stakes.map((function(e,t){return r.a.createElement(mt,{key:e._id,stake:e})}))}},{key:"render",value:function(){return r.a.createElement("table",{className:"StakesTable",cellSpacing:"0",cellPadding:"0"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"StakesTable__header--node-type"},"Node Type"),r.a.createElement("th",{className:"StakesTable__header--holder"},"Holder"),r.a.createElement("th",{className:"StakesTable__header--amount"},"Amount"),r.a.createElement("th",{className:"StakesTable__header--withdrawn"},"Withdrawn"),r.a.createElement("th",{className:"StakesTable__header--return-height"},"Return Height"))),r.a.createElement("tbody",null,this.createRows()))}}]),t}(r.a.Component),ft=a(31);var vt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).handleDepositStakeClick=function(){D.e.getWalletHardware();a.props.dispatch(Object(L.e)({type:B.a.CREATE_TRANSACTION,props:{transactionType:"deposit-stake"}}))},a.handleWithdrawStakeClick=function(){D.e.getWalletHardware();a.props.dispatch(Object(L.e)({type:B.a.CREATE_TRANSACTION,props:{transactionType:"withdraw-stake"}}))},a.fetchStakes=function(){var e=a.props.selectedAddress;a.props.dispatch(Object(W.h)(e,!1))},a.renderTDROPCard=function(){var e=a.props,t=e.selectedAccount,n=e.chainId,s=Object(je.a)(n),i=s.contractAddress,c=s.symbol,o=s.decimals,u=I.a.get(t,["tnt20Stakes"],{}),l=I.a.get(u,"tdrop.balance","0"),d=I.a.get(u,"tdrop.votingPower","0"),p=I.a.get(u,"tdrop.estimatedTokenOwnedWithRewards","0");return r.a.createElement("div",{className:"Balance",key:i},r.a.createElement("div",{className:"Balance__icon-wrapper"},s.iconUrl&&r.a.createElement("img",{className:"Balance__icon",src:s.iconUrl}),I.a.isNil(s.iconUrl)&&r.a.createElement(te.a,{address:i})),r.a.createElement("div",{className:"Balance__name"},c),"0"===l&&r.a.createElement("div",{className:"Balance__amount",style:{marginLeft:"auto"}},r.a.createElement("div",{className:"Balance__amount-title-and-value"},r.a.createElement("span",{className:"Balance__amount-title"},"Staked: "),r.a.createElement("span",{className:"Balance__amount-value"},"0"))),"0"!==l&&r.a.createElement("div",{className:"Balance__amount",style:{marginLeft:"auto"}},r.a.createElement("div",{className:"Balance__amount-title-and-value"},r.a.createElement("span",{className:"Balance__amount-title"},"Voting power: "),r.a.createElement("span",{className:"Balance__amount-value"},"".concat(Object(w.q)(d,5),"%"))),r.a.createElement("div",{className:"Balance__amount-title-and-value"},r.a.createElement("span",{className:"Balance__amount-title"},"Staked + reward (est.): "),r.a.createElement("span",{className:"Balance__amount-value"},Object(w.q)(Object(w.e)(p,o),5)))))},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"startPollingStakes",value:function(){this.fetchStakes(),this.pollStakesIntervalId=setInterval(this.fetchStakes,6e4)}},{key:"stopPollingStakes",value:function(){this.pollStakesIntervalId&&clearInterval(this.pollStakesIntervalId)}},{key:"componentDidMount",value:function(){this.startPollingStakes()}},{key:"componentWillUnmount",value:function(){this.stopPollingStakes()}},{key:"render",value:function(){var e=this.props,t=(e.selectedAddress,e.selectedIdentity,e.selectedAccount),a=(e.assets,e.chainId),n=(e.isLoading,I.a.get(t,["stakes"],[])),s=Object(je.a)(a);return r.a.createElement("div",{className:"StakesPage"},r.a.createElement("div",{className:"StakesPage__detail-view"},r.a.createElement(oe,{title:"Stakes",sticky:!0},r.a.createElement("div",{className:"StakesPage__header-buttons"},r.a.createElement(Ce,{title:"Deposit Stake",iconUrl:"/img/icons/stake-deposit@2x.png",onClick:this.handleDepositStakeClick}),r.a.createElement(Ce,{title:"Withdraw Stake",iconUrl:"/img/icons/stake-withdraw@2x.png",style:{marginLeft:12},onClick:this.handleWithdrawStakeClick}))),r.a.createElement("div",null,s&&this.renderTDROPCard()),0===n.length&&r.a.createElement(we,{title:"No THETA/TFUEL Stakes",subtitle:"Stake to earn tokens"}),!1,n.length>0&&r.a.createElement(ht,{stakes:n})))}}]),t}(r.a.Component),bt=Object(v.b)((function(e,t){var a=e.thetaWallet,n=a.selectedAddress,r=a.identities,s=a.accounts,i=a.tokens,c=a.network.chainId;return{selectedAddress:n,selectedIdentity:r[n],selectedAccount:s[n],chainId:c,assets:Object(je.d)(c,i)}}))(vt),yt=(a(722),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"OfflineCard"},r.a.createElement("div",{className:"OfflineCard__content"},r.a.createElement("div",{className:"OfflineCard__header"}),r.a.createElement("div",{className:"OfflineCard__body"},r.a.createElement("img",{className:"OfflineCard__icon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQgAAADcCAMAAAC78M9AAAAAY1BMVEUAAACSotaSotaSotaSotaSotaSotaSotaSotaSotaSotaSotb/HSX/HSWSotaSotaSotb/HSWSotb/HSX/HSX/HSX/HSX/HSX/HSX/HSX/HSX/HSX/HSX/HSX/HSWSotb/HSXyXCU7AAAAH3RSTlMAgBC/759gMM9A3yDvEHBQr4CPn79AMGDP3yBwUK+P9b1oOQAACbhJREFUeNrknOl6oyAUQC+oKO670Szy/k857XRmSAMENKJken62X9t4cjcIFDRM3VD95tz18FPpqjZl95xulwx+Gl2TMhnX4Se5yIaRKUmbCX4I55Q952eo6Eamp/rvEyS7MiPGDl4ioTRHCHm/ieYPfO+LEiGUUxrCoXQpM6WCNYT08+lnI+IPKfkxRs5sAW22LAYKVEbzGiIPEQp70ogZ0FZV98G5ak7CN0+ZuQNvfpW4RBTDLjTCzDDBHdnlcbZIewMJJIjnzYiDXEgVyx7SagKRoV1koqjjeXP8UpBhz0Oq7I/dyTQ7SDlbww8IBo61OnnNTOetEygIo9kykZXA6BgnvcBTphPjNCAl8ecdiOutXWTp3ZvcL0ojubVgluO6i+vCpljdxU8GInjekSjHFhLDcDgY7goKiNB5X8oCNmEUPCzJjm6liOhrYfG1tiDoD94Ha1IEJVt2jLQHU1o+ay8TEXs1KmioXZQUCC1TEtDtKuVl1U91IOBLQ6BERQjLwJSYr1E8Aq8wCOluRPcsJNCjgyCn8AKU1J5RhryiYpQ2gL5q2/N0v393ba9DJm01PQhEdxLqAsMW0LyM9UMnwi+3jAo4N/ab4Z+XL13j3TNPz6YqXNuZhRMS+JZUNDwgHr/ITfQp+yKdZD8JEjBBiIINwtzTqMhhBakkIHr2j4F7+E0jC4kL7AzWBEZMXsiM6T4xOAP38PjuX7mdAyieuogoLKOStYyW3TF8euDI+s0Iu6Nf6nsJaJE986ASwVKmEJEJ0bQ7OI9mJQivKRGTECZSRqnFCxxHGKirZgGmTNIHnAy38Sv+1SPBefxyfnRCiVCHhLgqu/BqeTDEU04VYMSgeE8bEw+8zbZwOLRU9Y9wUdM4g96EuEp3SARAoioWaImIDgQTeg/ApwsnUKmIwhdEQKP3ALypOkKiqBX5CyJ69sAZ3BcBQOUqPLxSBJ+rOcM7iAAgsbR9UDMRF4kHvQn+QY9TIH+WUBuJqEQPehOZU13jjqRUpId+oLqJHvQmOldFANBYmx4mjzIyAVktObsxYkvBSNs99OVuYEqu0g57BgeRfhAdYN3WbSc8oBzFDzuJLCgirNmyvKn2I06NSkTvZPfUBYUfAkezy3T9Pk82ChE3d2sl30033aWYZGVwuPfAw+bxmUenS8QfCn8WICDhJHnEbHxYXzRSXcfv1JmAPUnJfPoRcC/MEXyd1Uj65OjoXCmAjExk0qifmoczZZfT5xNfvlWXd8gMnh7aKbNRfE7TPwZ8BwCy9EndP6KeRAZttGernujGeON1HxwYmGjXnAu4sPcolf/I9SZ6tjzb+5Q5vM4wLBRRqN6UG8CIbGRvVCH+EPq6ITNLF5rIToy58CHXQnCkM3Fhi0z04/1q9I3AnmAiEZLDvAlcUvaGifFFoKmYPNa1h5CzG7vj7S4I60xMqXCLz+QW4ABvB5KYUO9SpudMrqFlzDiL9CdKkfdAjRChFKxChGn76b51ehOifjqP7BvNKgMFCjx/fo5XChfaLJoINTv4YzP0/yRcKl5G1sZDyI+NGhHxK1xWTSCxK4qk7Qf8G6vrQ5iX/rwGD1HbJpDQEFpmTNqBMbgI4tfusxFs0wQCgWr766+YlNtcT0msmShApD8ZhcMZDCnKeTMigq2Y8EHKkDIdjWE4hLU/b0tAYStyRUBwsird5N9HEG+2QJzjjScrAmoGZdUcKzMNGMWzJfwggU1I6s8RTvPLpnMrsXC7mP4Jf7YJV7ELXdW0f7OkbavLtP5I17urWANGxun+55ofJ/C86D9RgZGvT3KvRpQ+W4/lyIsNVGBwFhJrHCz4dxg0D3S/DYGbhJ5mUBai+dX/wxEX4B64ntVEKISVJPkzv6VzpaKI7a0TMPGe3WRzCVwqX2gdwgYkeaz0HIIzFP7mt5RFqHI+caVo4kDV4ELYlETVnD0nKkUYK3IiAY7lOcUncDhIeTHZDsR3crzC3u4vCyPfvZoZ+kc0d1y7lh5EOu5R0GDrpk4NBxEcuAAoYvn54gPA0d6NTJ8fcQi7E8aa073WoYe/gk+oLymSGHTYDwoCu0LcWP7I3o4AdiR3pY/j8lATgUOTXX5g8wicGmbC+CATOHAkLfiYf4gJHMmOuh9LfcBbgyN3JlsO0V/dsu/Bga0Ag/PF1j34FJwgjDQmbHtwZud0z9eGIzeWe5puZt+E57IHxfliGxDn2qbWRA028ISZ3jnyx+QAG7jvQYzaECzwBh4EExQs4L+Bh0cTCVggeAcP303EYIPkLTwAEOvjP3kLD3u8ziJ2+uzSr/bOBcdxEAii/A1YMigX4P633B3NZImGxGYN2DT0u0CiEp/GVDVX/k9DqeutjIL8PxHkg7P0wf8hKTWdfNy4DrN5ffsTbXezHL9opx/DD43lYXNjGT26aiuxRhXytOjmO2Ah5dkmq0ZbL9hmwykE7cJDWc8IN3ZcJ78HbRmPISaIsiEDoBmVE2mWQizsyoI9wv8BKqNy2veWomPQTz5frIOSUak1HDh1a/qwOv1pM9FzHKHM0pMf8Vo2H77pwUZZznY24hWbTnTltz4J84Xnh5XaDzqCmh6LLm16EA8nvVpTzofdrKr0WAaY3UOVyhAx30MLwv1zboyDFVTo/Rkac5CVq0JGu4molG4X1pUuvfCUYLqJX532EdYp0kG4Svtxv87GLB302so8GES/pZVvWRErOOuEahvjWASUgwdPZ3HbmSdIn7QeuelC0emx44IZLEEI0dp/mIZ1Ot03/L4OUNyD5Zh9HcC4ByH4+qC4HJ14cy8F9FcKcZf4+hylwxkGEARBEARBEARBEARBEARB+mF1VPK/eKo69n00Jc0+WtnpVeYJSt2kttu7q2YYDug1mXbES+37eynfyapDBJRdLlLfDHV/b+vriTqgElGHXSZYMqM1bvJ1QoYsNBkcF37R+5tTrXjT1lxS+vOyOgTHHGnjUrZ0fSYcLcy80knsTj+ETcwzJNRulGMRICzn9XMM5k2JAcBOWgF2FN804ZVxawl3WCnIOXZQelhFr+EFTkaFH68AHkAupRwdIjJjXyGjkpF0N1OsljnhGwABHRTiSiHYdEJ8WiOmOG3wEPHkLdsUu4YPEcHIO/QUhw0aXlCHM8OTUTHhBctICgfZVKd+RHab5PRJ5P41zhIm+R5BzO6XaiVgtps6g07aEX5sBSCGvhVX4RfPPuCLFHNdbPCQoPl3T8+ZBkRcD/FCnIaPzFFMJXX2LnbwifEF0+gKeCqBOjyVQB2S2glki8aKODGtQyQZFCP1AC9ilemomNSWTtSrFsJP3TZmNRv9wty5U/wBm2mmq1Lx0n8AAAAASUVORK5CYII="}),r.a.createElement("div",{className:"OfflineCard__title"},"You're offline!"),r.a.createElement("div",{className:"OfflineCard__message"},"Your wallet has been unlocked. You may enable your internet connection now. Once your connection is enabled, press \u2018Continue\u2019.")),r.a.createElement("div",{className:"OfflineCard__footer"},r.a.createElement(Ie,{title:"Continue",href:"/wallet"}))))}}]),t}(r.a.Component)),gt=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).handleContinue=e.handleContinue.bind(Object(F.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleContinue",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"CreateWalletPage"},r.a.createElement("div",{className:"CreateWalletPage__wrapper"},r.a.createElement("div",{className:"CreateWalletPage__title"},""),r.a.createElement(yt,{onContinue:this.handleContinue})))}}]),t}(r.a.Component),kt=a(61),Et=(a(723),a(49)),wt=a(100),Ot=a.n(wt),Tt=a(67),St=new Ot.a("http://localhost");function Ct(e){var t=I.a.get(e,["constant"],null),a=I.a.get(e,["stateMutability"],null);return"view"===a||"pure"===a||!0===t}function jt(e,t){try{var a=_t(e);return new St.eth.Contract(a,t)}catch(n){return null}}function _t(e){try{return JSON.parse(e)}catch(t){return null}}function Nt(e){return function(e){var t=_t(e);return!1===I.a.isNil(t&&t.object)}(e)||"Invalid byte code"}function At(e){return St.utils.isAddress(e)||"Invalid address"}function xt(e){return function(e){var t=_t(e);try{return!1===I.a.isNil(t&&new St.eth.Contract(t,null))}catch(a){return!1}}(e)||"Invalid ABI/JSON interface"}function It(e){return!I.a.isNil(e)&&0!==e.length||"Function is required"}function Pt(e){return I.a.filter(e,(function(e){return"function"===e.type}))}function Rt(e){var t=I.a.filter(e,(function(e){return"constructor"===e.type}));return I.a.first(t)}function Ft(e,t,a){var s=a.register,i=a.errors;return r.a.createElement("div",null,t.length>0&&r.a.createElement("div",null,r.a.createElement("div",{className:"FormSectionTitle"},e),r.a.createElement("div",{className:"FormColumns"},t.map((function(e,t){var a=e.name,c=e.type,o="arg".concat(t),u="inputs.".concat(o);return r.a.createElement(n.Fragment,{key:u},r.a.createElement("div",{className:"FormColumn"},r.a.createElement("div",{className:"InputTitle"},a+" ("+c+")"),r.a.createElement("input",{className:"RoundedInput",placeholder:"Enter "+a,name:u,ref:s({required:"Input "+a+" is required",validate:function(e){return!0}})}),I.a.get(i,["inputs",o])&&r.a.createElement("div",{className:"InputError"},I.a.get(i,["inputs",o,"message"]))))})))))}function Dt(e){var t=e.onSubmit,a=Object(Tt.a)({mode:"onChange"}),n=a.register,s=a.handleSubmit,i=a.errors,c=a.watch,o=c("abi"),u=c("byteCode"),l=jt(o,null),d=Rt(I.a.get(l,["options","jsonInterface"])),p=I.a.get(d,["inputs"],[]);return window.contract=l,r.a.createElement("form",{onSubmit:s(t)},r.a.createElement("div",{className:"FormColumns"},r.a.createElement("div",{className:"FormColumn"},r.a.createElement("div",{className:"FormSectionTitle"},"ABI/JSON Interface"),r.a.createElement("textarea",{className:"RoundedInput",placeholder:"Paste ABI/JSON interface",name:"abi",ref:n({required:"Contract ABI/JSON interface is required.",validate:xt})}),i.abi&&r.a.createElement("div",{className:"InputError"},i.abi.message)),r.a.createElement("div",{className:"FormColumn"},r.a.createElement("div",{className:"FormSectionTitle"},"Byte Code"),r.a.createElement("textarea",{className:"RoundedInput",placeholder:"Paste byte code",name:"byteCode",ref:n({required:"Contract byte code is required.",validate:Nt})}),i.byteCode&&r.a.createElement("div",{className:"InputError"},i.byteCode.message))),Ft("Constructor Inputs",p,{register:n,errors:i}),r.a.createElement(Ie,{title:"Deploy Contract",style:{marginTop:15},disabled:I.a.size(i)>0||I.a.isNil(o)||I.a.isNil(u),onClick:s(t)}))}function Wt(e){var t=e.defaultFormValues,a=e.disabled,s=e.loading,i=e.onSubmit,c=e.onChange,o=I.a.merge({functionName:""},t),u=Object(Tt.a)({mode:"onChange",defaultValues:o}),l=u.register,d=u.handleSubmit,p=u.errors,m=u.watch,h=u.setValue,f=Object(n.useState)(o),v=Object(kt.a)(f,2),b=v[0],y=v[1],g=m(),k=!1===I.a.isEqual(b,g);Object(n.useEffect)((function(){k&&(y(g),c&&c())}),[k,g,c,h]);var E=m("abi"),O=m("address"),T=m("functionName"),S=jt(E,null),C=Pt(I.a.get(S,["options","jsonInterface"]))||[],j=Object(w.s)(C.map((function(e){return e.name})),C),_=I.a.get(j,[T]),N=I.a.get(_,["inputs"],[]),A=Ct(_);return r.a.createElement("form",{onSubmit:d(i)},r.a.createElement("div",{className:"FormSectionTitle"},"Contract Address"),r.a.createElement("input",{className:"RoundedInput",placeholder:"Enter contract address",name:"address",ref:l({required:"Contract address is required.",validate:At})}),p.address&&r.a.createElement("div",{className:"InputError"},p.address.message),r.a.createElement("div",{className:"FormColumns"},r.a.createElement("div",{className:"FormColumn"},r.a.createElement("div",{className:"FormSectionTitle"},"ABI/JSON Interface"),r.a.createElement("textarea",{className:"RoundedInput",placeholder:"Paste ABI/JSON interface",name:"abi",ref:l({required:"Contract ABI/JSON interface is required.",validate:xt})}),p.abi&&r.a.createElement("div",{className:"InputError"},p.abi.message)),C.length>0&&r.a.createElement("div",{className:"FormColumn"},r.a.createElement("div",{className:"FormSectionTitle"},"Function"),r.a.createElement("select",{name:"functionName",className:"RoundedInput",placeholder:"Choose function",ref:l({required:"Function is required.",validate:It}),onChange:function(){}},r.a.createElement("option",{value:"",key:"__placeholder__"},"Choose function"),C.map((function(e,t){var a=e.name;e.type;return r.a.createElement("option",{value:a,key:a},a)}))),p.functionName&&r.a.createElement("div",{className:"InputError"},p.functionName.message))),Ft("Function Inputs",N,{register:l,errors:p}),r.a.createElement(Ie,{title:A?"Read":"Write",style:{marginTop:15},disabled:a||I.a.size(p)>0||I.a.isNil(E)||I.a.isNil(O)||I.a.isNil(T),loading:s,onClick:d(i)}))}var Mt=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).onSubmit=function(e){var t=e.abi,a=e.byteCode,n=e.inputs,r=_t(a),s=jt(t,null),i=Rt(I.a.get(s,["options","jsonInterface"])),c=I.a.get(i,["inputs"],[]),o=I.a.map(c,(function(e){e.name;return e.type})),u=I.a.map(c,(function(e,t){e.name;var a=e.type,r=n["arg".concat(t)];return a.includes("[]")?_t(r):"boolean"===a||"bool"===a?Boolean(_t(r)):r})),l=St.eth.abi.encodeParameters(o,u).slice(2),d=D.e.getWalletAddress(),p=r.object+l;R.dispatch(Object(me.b)(Et.a.DEPLOY,t,{from:d,to:null,data:p,value:0}))},e.defaultState={loading:!1},e.state=e.defaultState,e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"DeployContractContent"},r.a.createElement(Dt,{onSubmit:this.onSubmit}))}}]),t}(r.a.Component),Lt=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).onSubmit=function(){var t=Object(Ge.a)(Ve.a.mark((function t(a){var n,r,s,i,c,o,u,l,d,p,m,h,f,v,b,y,g,k,E,O,T,S,C,j,_;return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.address,r=a.abi,s=a.functionName,i=a.inputs,c=jt(r,n),o=I.a.get(c,["options","jsonInterface"]),u=Pt(o)||[],l=Object(w.s)(u.map((function(e){return e.name})),u),d=I.a.get(l,[s]),p=I.a.get(d,["inputs"],[]),m=I.a.get(d,["outputs"],[]),h=I.a.get(d,["signature"]).slice(2),f=Ct(d),v=I.a.map(p,(function(e){e.name;return e.type})),b=I.a.map(p,(function(e,t){e.name;var a=e.type,n=i["arg".concat(t)];return a.includes("[]")?_t(n):"boolean"===a||"bool"===a?Boolean(_t(n)):n})),y=St.eth.abi.encodeParameters(v,b).slice(2),new ut.BigNumber(10).pow(12),g=D.e.getWalletAddress(),k=ne.a.getSmartContractGasPrice(),1e7,E=h+y,O=0,1,!f){t.next=42;break}return e.setState({isLoading:!0,callResult:null}),1,T=ne.a.unsignedSmartContractTx({from:g,to:n,data:E,value:O,transactionFee:k,gasLimit:1e7},1),S=ft.a.TxSigner.serializeTx(T),t.prev=25,t.next=28,ct.a.callSmartContract({data:S.toString("hex").slice(2)},{network:ne.a.getChainID()});case 28:return C=t.sent,t.next=31,C.json();case 31:j=t.sent,_=I.a.get(j,"result"),I.a.get(_,"vm_error"),e.setState({callResult:I.a.merge(_,{outputs:m,decodedParameters:St.eth.abi.decodeParameters(m,I.a.get(_,"vm_return"))}),isLoading:!1}),t.next=40;break;case 37:t.prev=37,t.t0=t.catch(25),e.setState({isLoading:!1,callResult:{vm_error:t.t0.message}});case 40:t.next=43;break;case 42:R.dispatch(Object(me.b)(Et.a.INTERACT,r,{from:g,to:n,data:E,value:O}));case 43:case"end":return t.stop()}}),t,null,[[25,37]])})));return function(e){return t.apply(this,arguments)}}(),e.onChange=function(){e.setState({callResult:null})},e.defaultState={loading:!1,result:null},e.state=e.defaultState,e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.defaultFormValues,t=this.state,a=t.isLoading,s=t.callResult,i=I.a.get(s,"vm_error");return r.a.createElement("div",{className:"InteractWithContractContent"},r.a.createElement(Wt,{defaultFormValues:e,onSubmit:this.onSubmit,onChange:this.onChange,loading:a,disabled:a}),i&&r.a.createElement("div",{className:"InputError",style:{marginTop:20}},i),s&&r.a.createElement("div",{style:{marginTop:20}},r.a.createElement("div",null,r.a.createElement("div",{className:"InputTitle"},"Raw Result"),r.a.createElement("input",{className:"RoundedInput",name:"vm_return",value:I.a.get(s,"vm_return"),readOnly:!0}))),s&&r.a.createElement("div",{className:"FormColumns"},I.a.get(s,"outputs",[]).map((function(e,t){var a=e.name,i=e.type;return r.a.createElement(n.Fragment,{key:a},r.a.createElement("div",{className:"FormColumn"},r.a.createElement("div",{className:"InputTitle"},a+" ("+i+")"),r.a.createElement("input",{className:"RoundedInput",value:I.a.get(s,["decodedParameters",t]),readOnly:!0})))}))))}}]),t}(r.a.Component),Bt=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.match.params.contractMode,t=Object(w.g)(this.props.history.location.search);return t.abi&&(t.abi=atob(t.abi)),r.a.createElement("div",{className:"ContractPage"},r.a.createElement("div",{className:"ContractPage__detail-view"},r.a.createElement(oe,{title:null,sticky:!0},r.a.createElement(Q,{centered:!0,condensed:!1,style:{width:"100%"}},r.a.createElement(ee,{title:"Deploy Contract",href:"/wallet/contract/"+Et.a.DEPLOY}),r.a.createElement(ee,{title:"Interact with Contract",href:"/wallet/contract/"+Et.a.INTERACT}))),e===Et.a.DEPLOY&&r.a.createElement(Mt,null),e===Et.a.INTERACT&&r.a.createElement(Lt,{defaultFormValues:t})))}}]),t}(r.a.Component),Ut=Object(v.b)((function(e){return{}}))(Bt),Ht=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Pages"},r.a.createElement(m.a,null,r.a.createElement(h.a,{from:"/onboarding",to:"/onboarding/0",exact:!0}),r.a.createElement(f.a,{path:"/onboarding/:onboardingStep",component:We})),r.a.createElement(f.a,{path:"/create",component:Ke}),r.a.createElement(m.a,null,r.a.createElement(h.a,{from:"/unlock",to:"/unlock/keystore-file",exact:!0}),r.a.createElement(f.a,{path:"/unlock/:unlockStrategy",component:it})),r.a.createElement(f.a,{path:"/offline",component:gt}))}}]),t}(r.a.Component),Kt=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Pages Pages--wallet"},r.a.createElement(m.a,null,!1===D.e.unlocked()&&r.a.createElement(h.a,{to:"/unlock"}),r.a.createElement(h.a,{from:"/wallet/contract/",to:"/wallet/contract/"+Et.a.DEPLOY,exact:!0}),r.a.createElement(f.a,{path:"/wallet/contract/:contractMode",component:Ut}),r.a.createElement(f.a,{path:"/wallet/settings",component:Fe}),r.a.createElement(f.a,{path:"/wallet/stakes",component:bt}),r.a.createElement(h.a,{from:"/wallet",to:"/wallet/tokens/theta",exact:!0}),r.a.createElement(h.a,{from:"/wallet/tokens",to:"/wallet/tokens/theta",exact:!0}),r.a.createElement(f.a,{path:"/wallet/tokens/:tokenType",component:Ne}),r.a.createElement(f.a,{path:"/offline",component:gt})))}}]),t}(r.a.Component),qt=(a(724),a(333)),Vt=a.n(qt),Gt=(a(730),a(731),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Modal"},!1!==this.props.closeable&&r.a.createElement("a",{className:"Modal__close-button",onClick:function(e){e.preventDefault()}},r.a.createElement("img",{src:"/img/icons/modal-x@2x.png"})),this.props.children)}}]),t}(r.a.Component)),zt=(a(732),a(52)),Yt=function(e){var t=e.message,a=e.learnMoreHref,n=e.style,s=e.className,i=zt("Warning",s);return r.a.createElement("div",{style:n,className:i},r.a.createElement("span",{className:"Warning__message"},t),r.a.createElement("a",{className:"Warning__learn-more",href:a,target:"_blank",rel:"noopener noreferrer"},"Learn more"))},Jt="https://docs.thetatoken.org/docs/preventing-lost-eth-erc20-tokens",Xt=a(81),Zt=a(82),Qt=a.n(Zt),$t=a(83),ea=a.n($t),ta=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleCopyAddressClick=function(){var e=D.e.getWalletAddress();Object(w.a)(e),M.a.showSuccess("Your address has been copied")},a.handleDisplayOnLedgerClick=Object(Ge.a)(Ve.a.mark((function e(){var t,a;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,M.a.showSuccess("Your address will be displayed on Ledger device"),!(navigator.userAgent.toLowerCase().indexOf("firefox")>-1)){e.next=8;break}return e.next=5,Qt.a.create();case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,Xt.a.create();case 10:t=e.sent;case 11:return a=new ea.a(t),e.next=14,a.getAddress(D.e.getWalletPath(),!0,!1);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),M.a.showSuccess("Rejected, please refresh to change address");case 19:case"end":return e.stop()}}),e,null,[[0,16]])}))),a.handleFaucetClick=Object(Ge.a)(Ve.a.mark((function e(){var t,n;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isLoading:!0}),e.prev=1,e.next=4,ct.a.callFaucet(D.e.getWalletAddress(),Object(U.d)(ne.a.getChainID()));case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,I.a.get(n,"message")&&M.a.showSuccess("Your TFUEL has been sent."),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),M.a.showError("You have exceeded the faucet limit");case 14:return e.prev=14,a.setState({isLoading:!1}),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),a.state={isLoading:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.isLoading,t=D.e.getWalletAddress(),a="https://chart.googleapis.com/chart?chs=160x160&cht=qr&chl=".concat(t,"&choe=UTF-8&chld=L|0"),n=!1===I.a.isNil(Object(U.d)(ne.a.getChainID()));return r.a.createElement(Gt,null,r.a.createElement("div",{className:"ReceiveModal"},r.a.createElement("div",{className:"ModalTitle"},"Receive"),r.a.createElement(Yt,{message:"Do not send ETH or ERC20 tokens to this address.",learnMoreHref:Jt,style:{marginBottom:30}}),r.a.createElement("div",{className:"ReceiveModal__public-address-title"},"My Public Address"),r.a.createElement("div",{className:"ReceiveModal__public-address"},t),r.a.createElement("div",{className:"ReceiveModal__buttons"},r.a.createElement(Ce,{title:"Copy",iconUrl:"/img/icons/copy@2x.png",onClick:this.handleCopyAddressClick})),"ledger"===D.e.getWalletHardware()&&r.a.createElement("div",{className:"ReceiveModal__buttons"},r.a.createElement(Ce,{title:"Display on Ledger",onClick:this.handleDisplayOnLedgerClick})),r.a.createElement("img",{src:a,className:"ReceiveModal__qr"}),n&&O.a.faucetAvailable&&r.a.createElement("div",{className:"ReceiveModal__faucet"},r.a.createElement(Ce,{title:"Faucet",disabled:e,loading:e,className:"ReceiveModal__faucet-button",iconUrl:"/img/tab-bar/receive@2x.png",onClick:this.handleFaucetClick}),r.a.createElement("div",{className:"ReceiveModal__faucet-message"},"Receive a small amount of TFUEL on ",Object(U.e)(ne.a.getChainID())))))}}]),t}(r.a.Component),aa=(a(733),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).close=e.close.bind(Object(F.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"close",value:function(){R.dispatch(Object(L.b)())}},{key:"render",value:function(){return r.a.createElement(Gt,null,r.a.createElement("div",{className:"PrivateKeyModal"},r.a.createElement("div",{className:"PrivateKeyModal__title"},"Your Private Key"),r.a.createElement("div",{className:"PrivateKeyModal__instructions"},"Backup the text below on paper or digitally and keep it somewhere safe and secure."),r.a.createElement("textarea",{className:"PrivateKeyModal__private-key",value:this.props.privateKey,readOnly:!0}),r.a.createElement(Ie,{title:"Close",onClick:this.close})))}}]),t}(r.a.Component)),na=a(52),ra=[q.networks.Mainnet,q.networks.Testnet,q.networks.Privatenet,q.networks.EliteEdgeTestnet],sa=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).onNetworkClick=function(e){a.props.dispatch(Object(W.d)(e.chainId)),a.props.dispatch(Object(L.b)())},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.selectedNetwork;return r.a.createElement("div",{className:"NetworkSelectorModal"},r.a.createElement("div",{className:"NetworkSelectorModal__header"},r.a.createElement("div",{className:"NetworkSelectorModal__header-title"},"Select Network")),r.a.createElement("div",{className:"NetworkSelectorModal__content"},r.a.createElement("div",{className:"NetworkSelectorModal__message"},"The default network for Theta transactions is Mainnet."),r.a.createElement("div",{className:"NetworkSelectList"},ra.map((function(a){var n=na("NetworkSelectListItem",{"NetworkSelectListItem--active":a.chainId===t.chainId});return r.a.createElement("div",{key:a.chainId,className:n,onClick:function(){e.onNetworkClick(a)}},r.a.createElement("img",{className:"NetworkSelectListItem__checkmark",src:"/img/icons/checkmark.svg"}),r.a.createElement("div",{className:"NetworkSelectListItem__color",style:{backgroundColor:a.color}}),r.a.createElement("div",{className:"NetworkSelectListItem__name"},a.name))})))))}}]),t}(r.a.Component),ia=Object(v.b)((function(e){return{selectedNetwork:e.thetaWallet.network}}))(sa),ca=(a(734),a(97)),oa=a(62),ua=a(52),la=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e,t=this.props.iconUrl&&r.a.createElement("img",{className:"FlatButton__icon",src:this.props.iconUrl}),a=null,s="FlatButton--".concat(this.props.size),i=ua("FlatButton",(e={},Object(X.a)(e,this.props.className,!0),Object(X.a)(e,s,!0),Object(X.a)(e,"FlatButton--borderless",this.props.borderless),Object(X.a)(e,"FlatButton--centered",this.props.centered),Object(X.a)(e,"FlatButton--is-disabled",this.props.disabled),e));return a=this.props.loading?r.a.createElement(Te.a,{singleColor:"#ffffff",size:16,className:"FlatButton__spinner"}):r.a.createElement(n.Fragment,null,t,r.a.createElement("div",{className:"FlatButton__title"},this.props.title)),this.props.href?r.a.createElement(Ae.a,{className:i,to:this.props.href,target:this.props.target,onClick:this.props.onClick,style:this.props.style},a):r.a.createElement("a",{className:i,target:this.props.target,onClick:this.props.onClick,style:this.props.style},a)}}]),t}(r.a.Component),da=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return a=a||"",t?r.a.createElement("div",{className:"TxDataRow ".concat(n?"TxDataRow--large":"")},r.a.createElement("div",{className:"TxDataRow__title"},e),r.a.createElement("div",{className:"TxDataRow__value"},t+a||"")):null},pa=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).onConfirmClick=function(){var t=e.props.transactionRequest;e.props.dispatch(Object(me.a)(t.id,e.state.password))},e.onRejectClick=function(){var t=e.props.transactionRequest;e.props.dispatch(Object(me.e)(t.id))},e.renderDataRows=function(){var t=e.props,a=t.selectedAddress,n=t.transactionRequest,s=t.assets,i=I.a.get(n,"txType"),c=I.a.get(n,"txData"),o=I.a.get(n,"txData.purpose");if(i===q.constants.TxType.Send){var u=I.a.get(n,"txData.outputs[0].thetaWei",null),l=I.a.get(n,"txData.outputs[0].tfuelWei",null);return r.a.createElement(r.a.Fragment,null,da("Transaction Type",Object(w.p)(i)),da("From",Object(w.r)(a)),da("To",Object(w.r)(I.a.get(n,"txData.outputs[0].address"))),u&&"0"!==u&&da("Amount",Object(w.d)(u)," THETA"),l&&"0"!==l&&da("Amount",Object(w.d)(l)," TFUEL"))}if(i===q.constants.TxType.SmartContract){var d=Object(w.o)(n),p=I.a.get(n,"txData.to",null),m=I.a.get(n,"txData.value"),h=I.a.find(s,(function(e){return e.contractAddress===p})),f=null,v=null,b=null,y=null;try{var g=I.a.get(c,"data"),k=new q.Contract(null,oa.c,null).interface.decodeFunctionData("transfer(address,uint256)",g);f=k[0],v=k[1].toString(),b=h&&h.symbol,y=h&&h.decimals}catch(E){}return r.a.createElement(r.a.Fragment,null,da("Transaction Type",d),!I.a.isNil(p)&&da("Contract",Object(w.r)(I.a.get(n,"txData.to"))),da("From",Object(w.r)(a)),!I.a.isNil(f)&&da("To",Object(w.r)(f)),!I.a.isNil(f)&&b&&v&&da("Token Amount",Object(w.e)(v,y)," ".concat(b)),!I.a.isNil(m)&&m>0&&da("Value",Object(w.d)(m)," TFUEL"),da("Data",I.a.get(n,"txData.data"),null,!0))}return i===q.constants.TxType.WithdrawStake?r.a.createElement(r.a.Fragment,null,da("Transaction Type",Object(w.p)(i)),da("From",Object(w.r)(a)),da("Holder",Object(w.r)(I.a.get(n,"txData.holder")))):i===q.constants.TxType.DepositStake?r.a.createElement(r.a.Fragment,null,da("Transaction Type",Object(w.p)(i)),da("Purpose","Validator Node"),da("From",Object(w.r)(a)),da("Holder",Object(w.r)(I.a.get(n,"txData.holder"))),da("Amount",Object(w.d)(I.a.get(n,"txData.amount"))," THETA")):i===q.constants.TxType.DepositStakeV2?r.a.createElement(r.a.Fragment,null,da("Transaction Type",Object(w.p)(i)),o===q.constants.StakePurpose.StakeForEliteEdge&&da("Purpose","Edge Node"),o===q.constants.StakePurpose.StakeForGuardian&&da("Purpose","Guardian Node"),da("From",Object(w.r)(a)),da("Holder summary",I.a.get(n,"txData.holderSummary"),null,!0),o===q.constants.StakePurpose.StakeForEliteEdge&&da("Amount",Object(w.d)(I.a.get(n,"txData.amount"))," TFUEL"),o===q.constants.StakePurpose.StakeForGuardian&&da("Amount",Object(w.d)(I.a.get(n,"txData.amount"))," THETA")):void 0},e.calculateTotalGasPrice=function(){var t,a=e.props.transactionRequest;if(null===a||void 0===a?void 0:null===(t=a.gasFeeData)||void 0===t?void 0:t.totalGasFee){var n=new lt.a(I.a.get(a,["dependencies",0,"gasFeeData","totalGasFee"],"0"));return new lt.a(a.gasFeeData.totalGasFee||"0").plus(n)}},e.state={password:"",estimatedGasFee:null},e.handleChange=e.handleChange.bind(Object(F.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(X.a)({},t,a))}},{key:"render",value:function(){var e=this.props.transactionRequest,t=D.e.getWalletHardware()||this.state.password.length>0,a=this.renderDataRows(),n=null;return D.e.getWalletHardware()||(n=r.a.createElement("div",{className:"TxConfirmationModal__password-container"},r.a.createElement("div",{className:"TxConfirmationModal__password-title"},"Enter your wallet password to sign this transaction"),r.a.createElement("input",{className:"ChoosePasswordCard__password-input",placeholder:"Enter wallet password",name:"password",type:"password",value:this.state.password,onChange:this.handleChange.bind(this)}))),r.a.createElement(Gt,{closeable:!1},r.a.createElement("div",{className:"TxConfirmationModal"},r.a.createElement("div",{className:"ModalTitle"},"Confirm Transaction"),r.a.createElement("div",{className:"TxDataRows"},a,r.a.createElement("div",{className:"TxDataRow"},r.a.createElement("div",{className:"TxDataRow__title"},"Estimated Gas Fee"),I.a.isNil(null===e||void 0===e?void 0:e.gasFeeData)&&r.a.createElement("div",{className:"TxDataRow__value"},r.a.createElement(Te.a,{singleColor:"#1BDED0",size:20})),!I.a.isNil(null===e||void 0===e?void 0:e.gasFeeData)&&r.a.createElement("div",{className:"TxDataRow__value"},r.a.createElement("span",null,"".concat(Object(w.d)(this.calculateTotalGasPrice())," TFUEL"))))),n,r.a.createElement("div",{className:"TxConfirmationModal__footer"},r.a.createElement(la,{title:"Reject",className:"ConfirmTransactionPage__reject-button",size:"large",onClick:this.onRejectClick,borderless:!0,centered:!0}),r.a.createElement(Ie,{title:"Confirm",className:"ConfirmTransactionPage__confirm-button",disabled:!1===t,onClick:this.onConfirmClick}))))}}]),t}(r.a.Component),ma=Object(ca.a)((function(e){var t=e.thetaWallet,a=t.selectedAddress,n=t.identities,r=t.accounts,s=e.thetaWallet.transactionRequests[0],i=t.tokens,c=t.network.chainId;return{selectedAddress:a,selectedIdentity:n[a],selectedAccount:r[a],assets:Object(je.d)(c,i),transactionRequest:s}}))(pa),ha=a(70),fa=a(52),va=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.error,n=e.style,s=e.className,i=e.children;return r.a.createElement("div",{className:fa("FormField",Object(X.a)({},s,!0)),style:n},r.a.createElement("div",{className:"FormField__title"},t),i,a&&r.a.createElement("div",{className:"FormField__error"},a))}}]),t}(r.a.Component),ba=a(27);function ya(e){var t=e.onSubmit,a=e.defaultValues,n=e.selectedAccount,s=e.formRef,i=e.assets,c=Object(Tt.a)({mode:"onChange",defaultValues:a||{to:"",amount:"",assetId:""}}),o=c.register,u=c.handleSubmit,l=c.errors,d=c.watch,p=c.setValue,m=d("assetId");return r.a.createElement("form",{className:"TxForm TxForm--Send",onSubmit:u(t),ref:s},r.a.createElement(va,{title:"To",error:l.to&&"A valid address is required"},r.a.createElement("input",{name:"to",className:"RoundedInput",placeholder:"Enter address",ref:o({required:!0,validate:function(e){return ha.a.utils.isAddress(e)}})})),r.a.createElement(va,{title:"Asset",error:l.assetId&&"Asset is required"},r.a.createElement("select",{className:"RoundedInput",name:"assetId",ref:o({required:!0})},r.a.createElement("option",{key:"__placeholder__",value:"",disabled:!0},"Select asset"),i.map((function(e){return r.a.createElement("option",{key:e.symbol,value:e.id},"".concat(e.symbol," (").concat(Object(w.f)(n,e),")"))})))),r.a.createElement(va,{title:"Amount",error:l.amount&&l.amount.message},r.a.createElement("div",{className:"RoundedInputWrapper"},r.a.createElement("input",{name:"amount",className:"RoundedInput",placeholder:"Enter amount",type:"number",ref:o({required:{value:!0,message:"Amount is required"},validate:{sufficientBalance:function(e){var t=I.a.find(i,(function(e){return e.id===m}));return!!Object(w.i)(n,t,e)||"Insufficient balance"},moreThanZero:function(e){return parseFloat(e)>0||"Invalid amount"}}})}),r.a.createElement(la,{title:"Max",size:"small",className:"RoundedInputButton",onClick:function(){if(!I.a.isEmpty(m)){var e="",t=I.a.find(i,(function(e){return e.id===m}));if(m===je.b.id){var a=new lt.a(n.balances.tfuelwei).minus(q.constants.gasPriceDefault);e=Object(w.m)(a.toString(10)).toString(10)}else if(m===je.c.id)e=Object(w.m)(n.balances.thetawei).toString(10);else{var r=n.balances[t.address]||"0";e=Object(w.n)(r,t.decimals).toString(10)}p("amount",e)}}}))),r.a.createElement(Yt,{message:"Do not send to Ethereum/ERC20 addresses.",learnMoreHref:ba.e.PreventingLostTokens,style:{maxWidth:"250px",marginBottom:10}}))}function ga(e){var t=e.onSubmit,a=e.defaultValues,n=e.formRef,s=e.selectedAccount,i=(e.assets,e.chainId),c=e.onShowDelegatedGuardianNodes,o=Object(Tt.a)({mode:"onChange",defaultValues:a||{purpose:q.constants.StakePurpose.StakeForGuardian,holder:"",holderSummary:"",amount:"",delegatedGuardianNode:null}}),u=o.register,l=o.handleSubmit,d=o.errors,p=o.watch,m=o.setValue;r.a.useEffect((function(){u("delegatedGuardianNode")}),[u]);var h=parseInt(p("purpose")),f=p("delegatedGuardianNode"),v=null,b=null,y=null;h===q.constants.StakePurpose.StakeForValidator?(v="Validator Node Holder (Address)",b="Enter validator node address",y="Theta Stake Amount"):h===q.constants.StakePurpose.StakeForGuardian?(v="Guardian Node Holder (Summary)",b="Enter guardian node summary",y="Theta Stake Amount"):h===q.constants.StakePurpose.StakeForEliteEdge?(v="Edge Node Holder (Summary)",b="Enter edge node summary",y="TFuel Stake Amount"):h===ba.b&&(v=null,b=null,y="TDrop Stake Amount");return r.a.createElement("form",{className:"TxForm TxForm--DepositStake",onSubmit:l(t),ref:n},r.a.createElement(va,{title:"Stake Type",error:d.purpose&&"Stake type is required"},r.a.createElement("select",{className:"RoundedInput",name:"purpose",ref:u({required:!0})},r.a.createElement("option",{key:"__placeholder__",value:"",disabled:!0},"Select stake type"),r.a.createElement("option",{key:"guardian",value:q.constants.StakePurpose.StakeForGuardian},"Guardian Node"),r.a.createElement("option",{key:"validator",value:q.constants.StakePurpose.StakeForValidator},"Validator Node"),r.a.createElement("option",{key:"elite-edge",value:q.constants.StakePurpose.StakeForEliteEdge},"Edge Node"),Object(je.a)(i)&&r.a.createElement("option",{key:"tdrop",value:ba.b},"TDROP"))),h===q.constants.StakePurpose.StakeForValidator&&r.a.createElement(va,{title:v,error:d.holder&&"A valid validator address is required"},r.a.createElement("input",{name:"holder",className:"RoundedInput",placeholder:b,ref:u({required:!0,validate:function(e){return ha.a.utils.isAddress(e)}})})),h===q.constants.StakePurpose.StakeForGuardian&&r.a.createElement(va,{title:f?"Delegated Guardian Node":v,error:d.holderSummary&&"Guardian node summary or delegated guardian node is required"},r.a.createElement(r.a.Fragment,null,r.a.createElement("textarea",{name:"holderSummary",className:"RoundedInput",style:{height:100,display:f?"none":"block"},placeholder:b,ref:u({required:!0,validate:function(e){return Object(w.h)(e)}})}),I.a.isNil(f)&&r.a.createElement("a",{onClick:function(){c((function(e){m("holderSummary",e.node_summary),m("delegatedGuardianNode",e)}))},className:"Link",style:{marginTop:8,textAlign:"left"}},"Select Delegated Guardian Node")),!I.a.isNil(f)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"RoundedInput"},r.a.createElement("div",{className:"RoundedInputClearableValue"},r.a.createElement("div",null,f.name),r.a.createElement("a",{onClick:function(){m("holderSummary",null),m("delegatedGuardianNode",null)},style:{marginLeft:"auto"}},r.a.createElement("img",{src:"/img/icons/alert-x@2x.png"})))))),h===q.constants.StakePurpose.StakeForEliteEdge&&r.a.createElement(va,{title:v,error:d.holderSummary&&"Edge node summary is required"},r.a.createElement("textarea",{name:"holderSummary",className:"RoundedInput",style:{height:100},placeholder:b,ref:u({required:!0,validate:function(e){return q.transactions.DepositStakeV2Transaction.isValidHolderSummary(h,e)}})})),r.a.createElement(va,{title:y,error:d.amount&&d.amount.message},r.a.createElement("div",{className:"RoundedInputWrapper"},r.a.createElement("input",{name:"amount",className:"RoundedInput",placeholder:"Enter amount to stake",ref:u({required:{value:!0,message:"Stake amount is required"},validate:{sufficientBalance:function(e){var t=!0;if(h===q.constants.StakePurpose.StakeForEliteEdge)t=Object(w.i)(s,je.b,e);else if(h===q.constants.StakePurpose.StakeForGuardian||h===q.constants.StakePurpose.StakeForValidator)t=Object(w.i)(s,je.c,e);else if(h===ba.b){var a=Object(je.a)(i);t=Object(w.i)(s,a,e)}return!!t||"Insufficient balance"},moreThanMin:function(e){var t=parseFloat(e),a=Object(ba.h)(h);if(h===q.constants.StakePurpose.StakeForEliteEdge){if(a>t)return"Invalid amount. Must be at least ".concat(Object(w.j)(a)," TFUEL")}else if((h===q.constants.StakePurpose.StakeForGuardian||h===q.constants.StakePurpose.StakeForValidator)&&a>t)return"Invalid amount. Must be at least ".concat(Object(w.j)(a)," THETA");return!0},lessThanMax:function(e){var t=parseFloat(e),a=Object(ba.g)(h);if(h===q.constants.StakePurpose.StakeForEliteEdge){if(a<t)return"Invalid amount. Must be less than ".concat(Object(w.j)(a)," TFUEL")}else if((h===q.constants.StakePurpose.StakeForGuardian||!I.a.isNil(f))&&(a=Object(ba.f)(h))<t)return"Invalid amount. There's a max of ".concat(Object(w.j)(a)," THETA for delegated nodes. Please download and run your own Guardian Node to stake more.");return!0},moreThanZero:function(e){return parseFloat(e)>0||"Invalid stake amount"}}})}),r.a.createElement(la,{title:"Max",size:"small",className:"RoundedInputButton",onClick:function(){var e="",t=Object(ba.g)(h);if(h===q.constants.StakePurpose.StakeForValidator||h===q.constants.StakePurpose.StakeForGuardian)e=Object(w.m)(s.balances.thetawei).toString(10),h===q.constants.StakePurpose.StakeForEliteEdge?e=Math.min(t,parseFloat(e)):h!==q.constants.StakePurpose.StakeForGuardian&&I.a.isNil(f)||(t=Object(ba.f)(h),e=Math.min(t,parseFloat(e)));else if(h===q.constants.StakePurpose.StakeForEliteEdge){var a=new lt.a(s.balances.tfuelwei).minus(q.constants.gasPriceDefault);e=Object(w.m)(a.toString(10)).toString(10),e=Math.min(t,parseFloat(e))}else if(h===ba.b){var n=Object(je.a)(i),r=s.balances[n.address]||"0";e=Object(w.m)(r).toString(10)}m("amount",e)}}))))}function ka(e){var t=e.onSubmit,a=e.defaultValues,n=e.formRef,s=e.selectedAccount,i=(e.assets,e.chainId),c=Object(Tt.a)({mode:"onChange",defaultValues:a||{purpose:q.constants.StakePurpose.StakeForGuardian,holder:"",amount:""}}),o=c.register,u=c.handleSubmit,l=c.errors,d=c.watch,p=(c.setValue,parseInt(d("purpose"))),m=d("amount");return r.a.createElement("form",{className:"TxForm TxForm--WithdrawStake",onSubmit:u(t),ref:n},r.a.createElement(va,{title:"Stake Type",error:l.purpose&&"Stake type is required"},r.a.createElement("select",{className:"RoundedInput",name:"purpose",ref:o({required:!0})},r.a.createElement("option",{key:"__placeholder__",value:"",disabled:!0},"Select stake type"),r.a.createElement("option",{key:"guardian",value:q.constants.StakePurpose.StakeForGuardian},"Guardian Node"),r.a.createElement("option",{key:"validator",value:q.constants.StakePurpose.StakeForValidator},"Validator Node"),r.a.createElement("option",{key:"validator",value:q.constants.StakePurpose.StakeForEliteEdge},"Edge Node"),Object(je.a)(i)&&r.a.createElement("option",{key:"tdrop",value:ba.b},"TDROP"))),p!==ba.b&&r.a.createElement(va,{title:"Holder",error:l.holder&&"A valid node address is required"},r.a.createElement("input",{name:"holder",className:"RoundedInput",placeholder:"Enter node address",ref:o({required:!0,validate:function(e){return ha.a.utils.isAddress(e)}})})),p===ba.b&&r.a.createElement(va,{title:"% Amount to Unstake",error:l.amount&&l.amount.message},r.a.createElement("input",{name:"amount",className:"RoundedInput",placeholder:"Enter % amount to unstake",ref:o({required:{value:!0,message:"Unstake % amount is required"},validate:{moreThanZero:function(e){return parseFloat(e)>0||"Invalid % amount."},lessThanOrEqualTo100:function(e){return parseFloat(e)<=100||"Invalid % amount. Max 100%."}}})})),p===ba.b&&!I.a.isEmpty(m)&&function(){var e=Math.min(parseFloat(m),100)/100,t=I.a.get(s,["tnt20Stakes"],{}),a=I.a.get(t,"tdrop.estimatedTokenOwnedWithRewards","0"),n=new lt.a(a).multipliedBy(e),c=Object(w.e)(n.toString(),Object(je.a)(i).decimals);return r.a.createElement("div",null,r.a.createElement("span",{className:"Balance__amount-title"},"Estimated TDROP Returned: "),r.a.createElement("span",{className:"Balance__amount-value"},c))}())}var Ea=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).onNextClick=function(){e.formRef.current.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))},e.onSubmit=function(){var t=Object(Ge.a)(Ve.a.mark((function t(a){var n,r,s,i,c,o,u;return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.transactionType,s=n.thetaWallet,t.next=3,Object(w.c)(r,a,s);case 3:i=t.sent,c=i.dependencies||[],o=c[0],u=i.toJson(),o&&(u.dependencies=[o.toJson()]),e.props.dispatch(Object(me.c)(u));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onShowDelegatedGuardianNodes=function(t){e.props.dispatch(Object(L.e)({type:B.a.DELEGATED_NODE_SELECTOR,props:{onSelectNode:t}}))},e.formRef=r.a.createRef(),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(W.g)(!1))}},{key:"render",value:function(){var e=this.props,t=(e.selectedIdentity,e.selectedAccount),a=e.transactionType,n=e.assets,s=e.chainId,i=a.replace(/-/g," ").replace(/\b\w/g,(function(e){return e.toUpperCase()}));return r.a.createElement("div",{className:"CreateTransactionModal"},r.a.createElement("div",{className:"ModalTitle"},i),"send"===a&&r.a.createElement(ya,{formRef:this.formRef,selectedAccount:t,assets:n,chainId:s,onSubmit:this.onSubmit}),"deposit-stake"===a&&r.a.createElement(ga,{formRef:this.formRef,selectedAccount:t,assets:n,chainId:s,onSubmit:this.onSubmit,onShowDelegatedGuardianNodes:this.onShowDelegatedGuardianNodes}),"withdraw-stake"===a&&r.a.createElement(ka,{formRef:this.formRef,selectedAccount:t,assets:n,chainId:s,onSubmit:this.onSubmit}),r.a.createElement("div",{className:"CreateTransactionModal__footer"},r.a.createElement(Ie,{onClick:this.onNextClick,title:"Next"})))}}]),t}(r.a.Component),wa=Object(ca.a)((function(e,t){var a=t.transactionType,n=e.thetaWallet,r=n.selectedAddress,s=n.identities,i=n.accounts,c=n.tokens,o=n.network.chainId;return{transactionType:a,selectedAddress:r,selectedIdentity:s[r],selectedAccount:i[r],chainId:o,thetaWallet:n,assets:Object(je.d)(o,c)}}))(Ea),Oa=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).onNodeClick=function(e){var t=a.props.onSelectNode;a.props.dispatch(Object(L.b)()),t&&t(e)},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.delegatedGuardianNodes;return r.a.createElement("div",{className:"DelegatedNodeSelectorModal"},r.a.createElement("div",{className:"DelegatedNodeSelectorModal__header"},r.a.createElement("div",{className:"DelegatedNodeSelectorModal__header-title"},"Select Delegated Node")),r.a.createElement("div",{className:"DelegatedNodeSelectorModal__content"},r.a.createElement("div",{className:"DelegatedNodeSelectorModal__message"},"Delegated staking Guardian Nodes are nodes run by Theta community volunteers. Uptime of these nodes is not guaranteed, and you may not receive full TFUEL rewards if the node you delegate to has significant downtime."),r.a.createElement("div",{className:"DelegatedNodeList"},t.map((function(t){return r.a.createElement("div",{key:t.address,className:"DelegatedNodeListItem",onClick:function(){e.onNodeClick(t)}},r.a.createElement("div",{className:"DelegatedNodeListItem__name"},r.a.createElement("span",null,t.name),r.a.createElement("span",{className:"DelegatedNodeListItem__fee"},"".concat(t.fee," Fee"))),r.a.createElement("div",{className:"DelegatedNodeListItem__address"},Object(w.r)(t.address)))})))))}}]),t}(r.a.Component),Ta=Object(v.b)((function(e,t){return{delegatedGuardianNodes:e.thetaWallet.delegatedGuardianNodes,onSelectNode:t.onSelectNode}}))(Oa),Sa=a(152);function Ca(e){var t=e.onSubmit,a=e.defaultValues,n=e.formRef,s=(e.assets,Object(Tt.a)({mode:"onChange",defaultValues:a||{address:"",symbol:"",decimals:""}})),i=s.register,c=s.handleSubmit,o=s.errors;s.watch,s.setValue;return r.a.createElement("form",{className:"TrackTokenForm",onSubmit:c(t),ref:n},r.a.createElement(va,{title:"Token Contract Address",error:o.address&&"A valid contract address is required"},r.a.createElement("input",{name:"address",className:"RoundedInput",placeholder:"Enter contract address",ref:i({required:!0,validate:function(e){return ha.a.utils.isAddress(e)}})})),r.a.createElement(va,{title:"Token Symbol",error:o.symbol&&"Token symbol is required"},r.a.createElement("input",{name:"symbol",className:"RoundedInput",placeholder:"Enter token symbol",ref:i({required:!0})})),r.a.createElement(va,{title:"Token Decimals",error:o.decimals&&"Token decimals is required"},r.a.createElement("input",{name:"decimals",type:"number",className:"RoundedInput",placeholder:"Enter token decimals",ref:i({required:!0})})))}var ja,_a=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).onNextClick=function(){e.formRef.current.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))},e.onSubmit=function(t){var a=t.address,n=t.symbol,r=t.decimals;(a=(a=I.a.trim(a)).toLowerCase()).startsWith("0x")||(a="0x"+a),e.props.dispatch(Object(W.a)({address:I.a.trim(a),symbol:I.a.trim(n),decimals:parseInt(r)}))},e.formRef=r.a.createRef(),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return Object(Sa.a)(this.props),r.a.createElement("div",{className:"TrackTokenModal"},r.a.createElement("div",{className:"ModalTitle"},"Track Token"),r.a.createElement(Ca,{formRef:this.formRef,onSubmit:this.onSubmit}),r.a.createElement("div",{className:"TrackTokenModal__footer"},r.a.createElement(Ie,{onClick:this.onNextClick,title:"Save"})))}}]),t}(r.a.Component),Na=Object(v.b)((function(e){return{}}))(_a),Aa=(ja={},Object(X.a)(ja,B.a.RECEIVE,ta),Object(X.a)(ja,B.a.PRIVATE_KEY,aa),Object(X.a)(ja,B.a.NETWORK_SELECTOR,ia),Object(X.a)(ja,B.a.CREATE_TRANSACTION,wa),Object(X.a)(ja,B.a.CONFIRM_TRANSACTION,ma),Object(X.a)(ja,B.a.DELEGATED_NODE_SELECTOR,Ta),Object(X.a)(ja,B.a.TRACK_TOKEN,Na),ja),xa=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e,t=this.props.modal,a=t?t.component:null,n=!1!==(null===t||void 0===t?void 0:null===(e=t.props)||void 0===e?void 0:e.closeable);return r.a.createElement(Vt.a,{isOpen:null!==t,onRequestClose:this.props.closeModal,ariaHideApp:!1,shouldCloseOnOverlayClick:n,shouldCloseOnEsc:n,overlayClassName:"ModalOverlay",className:"Modal"},t&&r.a.createElement(a,Object.assign({closeModal:this.props.closeModal},t.props)))}}]),t}(r.a.Component),Ia=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).closeModal=e.closeModal.bind(Object(F.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"closeModal",value:function(){this.props.dispatch(Object(L.b)())}},{key:"getModal",value:function(e){var t=I.a.get(this.props.modals,[e],null);return t&&(t=Object.assign({},t,{component:Aa[t.type]})),t}},{key:"render",value:function(){var e=this.getModal(0),t=this.getModal(1);return r.a.createElement("div",null,r.a.createElement(xa,{modal:e,closeModal:this.closeModal}),r.a.createElement(xa,{modal:t,closeModal:this.closeModal}))}}]),t}(r.a.Component),Pa=Object(v.b)((function(e){return{modals:e.ui.modals}}),null)(Ia),Ra=a(71),Fa=(a(735),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"UnsupportedDevice"},r.a.createElement("div",{className:"UnsupportedDevice__content"},r.a.createElement("img",{className:"UnsupportedDevice__logo",src:"/img/logo/theta_wallet_logo@2x.png"}),r.a.createElement("div",{className:"UnsupportedDevice__title"},"This wallet is designed for desktop. Try our mobile wallets!"),r.a.createElement("a",{className:"UnsupportedDevice__app-store-badge",href:"https://itunes.apple.com/app/theta-wallet/id1451094550?mt=8",target:"_blank"},r.a.createElement("img",{src:"/img/badges/app-store@2x.png"})),r.a.createElement("a",{className:"UnsupportedDevice__app-store-badge",href:"https://play.google.com/store/apps/details?id=org.theta.wallet",target:"_blank"},r.a.createElement("img",{src:"/img/badges/google-play@2x.png"}))))}}]),t}(r.a.Component)),Da=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"renderMessage",value:function(){var e=this.props.loadingMessage;return e?Object(n.isValidElement)(e)?e:r.a.createElement("span",null,e):null}},{key:"render",value:function(){return r.a.createElement("div",{className:"LoadingOverlay"},r.a.createElement("div",{className:"LoadingOverlay__container"},r.a.createElement(Te.a,{singleColor:"#1BDED0",className:"LoadingOverlay__spinner"}),r.a.createElement("div",{className:"LoadingOverlay__message"},this.renderMessage())))}}]),t}(n.Component),Wa=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).onSendClick=e.onSendClick.bind(Object(F.a)(e)),e.onReceiveClick=e.onReceiveClick.bind(Object(F.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"onSendClick",value:function(){R.dispatch(Object(L.e)({type:B.a.CREATE_TRANSACTION,props:{transactionType:"send"}}))}},{key:"onReceiveClick",value:function(){R.dispatch(Object(L.e)({type:B.a.RECEIVE}))}},{key:"render",value:function(){return r.a.createElement(Q,null,r.a.createElement(ee,{title:"Wallet",href:"/wallet/tokens",normalIconUrl:"/img/tab-bar/wallet@2x.png",activeIconUrl:"/img/tab-bar/wallet-active@2x.png"}),r.a.createElement(ee,{title:"Send",onClick:this.onSendClick,normalIconUrl:"/img/tab-bar/send@2x.png",activeIconUrl:"/img/tab-bar/send-active@2x.png"}),r.a.createElement(ee,{title:"Receive",onClick:this.onReceiveClick,normalIconUrl:"/img/tab-bar/receive@2x.png",activeIconUrl:"/img/tab-bar/receive-active@2x.png"}),r.a.createElement(ee,{title:"Stakes",href:"/wallet/stakes",normalIconUrl:"/img/tab-bar/stakes@2x.png",activeIconUrl:"/img/tab-bar/stakes-active@2x.png"}),function(){var e=ne.a.getChainID();return Object(U.b)(e)}()&&r.a.createElement(ee,{title:"Contract",href:"/wallet/contract",normalIconUrl:"/img/tab-bar/contract@2x.png",activeIconUrl:"/img/tab-bar/contract-active@2x.png"}),r.a.createElement(ee,{title:"Settings",href:"/wallet/settings",normalIconUrl:"/img/tab-bar/settings@2x.png",activeIconUrl:"/img/tab-bar/settings-active@2x.png"}))}}]),t}(n.Component),Ma=function(e){return{isLoading:e.ui.isLoading,loadingMessage:e.ui.loadingMessage}},La=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){Ra.a.setHistory(this.props.history)}},{key:"render",value:function(){var e=this.props,t=e.isLoading,a=e.loadingMessage,n=D.e.getWalletAddress();return r.a.createElement("div",{className:"App"},t&&r.a.createElement(Da,{loadingMessage:a}),r.a.createElement(J,{centered:null===n}),r.a.createElement(Ht,null),r.a.createElement(Pa,null),r.a.createElement(Fa,null))}}]),t}(n.Component),Ba=Object(v.b)(Ma,null)(La),Ua=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){Ra.a.setHistory(this.props.history)}},{key:"render",value:function(){var e=this.props,t=e.isLoading,a=e.loadingMessage;return r.a.createElement("div",{className:"App WalletApp"},t&&r.a.createElement(Da,{loadingMessage:a}),r.a.createElement(J,null),r.a.createElement(Wa,null),r.a.createElement(Kt,null),r.a.createElement(Pa,null),r.a.createElement(Fa,null))}}]),t}(n.Component),Ha=Object(v.b)(Ma,null)(Ua),Ka=a(334),qa=(a(743),a(52)),Va=function(e){var t=e.message,a=e.options,n=e.style,s=e.close,i=a.type,c="Alert--".concat(i),o=qa("Alert",c);return r.a.createElement("div",{style:n,className:o},r.a.createElement("img",{src:"/img/icons/alert-".concat(i,"@2x.png"),className:"Alert__icon"}),r.a.createElement("div",{className:"Alert__message"},t),s&&r.a.createElement("button",{className:"Alert__close-button",onClick:s},r.a.createElement("img",{src:"/img/icons/alert-x@2x.png"})))},Ga={position:"top center",timeout:5e3,offset:"30px",transition:"scale"},za=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){D.e.controller.on("update",(function(e){R.dispatch({type:_,data:e})}))}},{key:"render",value:function(){var e=M.a.getRef();return r.a.createElement(p.a,null,r.a.createElement(v.a,{store:R},r.a.createElement(Ka.a,Object.assign({ref:e,template:Va},Ga),r.a.createElement(m.a,null,r.a.createElement(h.a,{from:"/",to:"/unlock",exact:!0}),r.a.createElement(f.a,{path:"/wallet",component:Ha}),r.a.createElement(f.a,{path:"/",component:Ba})))))}}]),t}(n.Component);ut.BigNumber.config({EXPONENTIAL_AT:1e9}),i.a.render(r.a.createElement(za,null),document.getElementById("root")),window.onerror=function(e,t,a,n,r){console.log("Caught error...skipping")}},80:function(e,t,a){"use strict";var n={isThetaNetworkLive:!0,defaultThetaChainID:a(44).c.THETA_MAINNET,faucetAvailable:!1};t.a=n}},[[340,1,2]]]);
//# sourceMappingURL=main.979e4a36.chunk.js.map